<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Pixel Art Survey - potapenko.dev</title>
  <link rel="icon" type="image/png" href="/favicons2/favicon-48x48.png" sizes="48x48" />
  <link rel="icon" type="image/svg+xml" href="/favicons2/favicon.svg" />
  <link rel="shortcut icon" href="/favicons2/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons2/apple-touch-icon.png" />
  <link rel="manifest" href="/favicons2/site.webmanifest" />
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <style>
    /* Survey specific styles extending your existing theme */
    .survey-container {
      margin-top: 120px;
      padding: 2rem;
      min-height: calc(100vh - 200px);
    }

    .survey-title {
      color: rgb(228, 228, 228);
      font-family: Calibri;
      margin: 1;
      padding: 1;
      font-size: 2.5rem;
      text-shadow: 
       -2px -2px 0 rgb(23, 39, 39), 
        2px -2px 0 rgb(23, 39, 39),
       -2px 2px 0 rgb(23, 39, 39), 
        2px 2px 0 rgb(23, 39, 39);
      text-align: center;
      margin-bottom: 2rem;
    }

    /* Hierarchical folder structure */
    .folder-section {
      margin-bottom: 1rem;
    }

    .folder-header {
      color: rgb(228, 228, 228);
      font-family: Calibri;
      margin: 0.5rem 0;
      padding: 0.5rem;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .folder-header:hover {
      background: rgba(0, 123, 255, 0.2);
      transform: translateX(10px);
    }

    /* Bullet point system */
    .bullet-point {
      position: relative;
      padding-left: 1.5rem;
    }

    .bullet-point::before {
      content: "●";
      color: #007bff;
      position: absolute;
      left: 0;
      top: 0;
      font-size: 1.2em;
    }

    /* Hierarchical headings */
    h1.folder-header {
      font-size: 2rem;
      padding-left: 0.5rem;
    }

    h2.folder-header {
      font-size: 1.7rem;
      padding-left: 2rem;
    }

    h3.folder-header {
      font-size: 1.4rem;
      padding-left: 4rem;
    }

    h4.folder-header {
      font-size: 1.2rem;
      padding-left: 6rem;
    }

    /* Image grid layout */
    .images-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
      gap: 2rem;
      margin: 1rem 0;
      padding-left: 2rem;
    }

    /* Image survey cards with light gray transparent background */
    .image-survey-card {
      background: rgba(128, 128, 128, 0.5); /* Light gray 50% transparent */
      border-radius: 15px;
      padding: 1rem;
      border: 2px solid transparent;
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: row;
      gap: 1rem;
    }

    /* Rainbow border from your styles */
    .image-survey-card {
      animation: borderColorChange 5s infinite;
      animation-fill-mode: forwards;
      border: 2px solid;
    }

    .image-survey-card:hover {
      transform: scale(1.02);
    }

    .image-container {
      flex: 0 0 200px;
    }

    .image-survey-card img {
      width: 200px;
      height: 200px;
      object-fit: contain;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.1);
    }

    .image-filename {
      color: white;
      font-family: Calibri;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      word-break: break-word;
      text-align: center;
    }

    /* Survey controls on the right side */
    .survey-controls {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      justify-content: flex-start;
      padding-top: 1rem;
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .checkbox-row input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: #007bff;
    }

    .checkbox-row label {
      color: white;
      font-family: Calibri;
      font-size: 0.9rem;
    }

    /* Text inputs with black transparent background and rounded edges */
    .text-input {
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid #555;
      border-radius: 8px;
      padding: 0.5rem;
      color: white;
      font-family: Calibri;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
      transition: border-color 0.3s ease;
    }

    .text-input:focus {
      outline: none;
      border-color: #007bff;
      box-shadow: 0 0 5px rgba(0, 123, 255, 0.3);
    }

    .text-input::placeholder {
      color: #aaa;
    }

    /* Name textbox - one line, 20 characters */
    .name-input {
      height: 2rem;
      width: 100%;
      max-width: 300px;
    }

    /* Description textbox - same width, 40 words max */
    .description-input {
      height: 4rem;
      width: 100%;
      max-width: 300px;
      resize: vertical;
      max-height: 8rem;
    }

    /* Fixed submit button with rainbow styling */
    .submit-button {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      font-size: 18px;
      padding: 12px 24px;
      border: 2px solid;
      border-radius: 18px;
      background: transparent;
      cursor: pointer;
      font-family: Calibri;
      animation: rainbowText 5s linear infinite, rainbowBorder 5s linear infinite;
      text-decoration: none;
      transition: background 0.3s ease-in-out, transform 0.3s ease-in-out, color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
      color: rgba(255, 255, 255, 0.718);
      z-index: 1000;
    }

    .submit-button:hover {
      background: linear-gradient(45deg, #1118537c, #29687c86);
      transform: scale(1.1);
      color: white;
      box-shadow: 0 0 20px rgba(0, 123, 255, 0.3);
    }

    /* Collapsible content */
    .collapsible-content {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }

    .collapsible-content.show {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .images-grid {
        grid-template-columns: 1fr;
        padding-left: 1rem;
      }
      
      .survey-container {
        padding: 1rem;
        margin-top: 80px;
      }
      
      .submit-button {
        bottom: 1rem;
        right: 1rem;
        font-size: 16px;
        padding: 10px 20px;
      }

      .image-survey-card {
        flex-direction: column;
      }

      .image-container {
        flex: none;
        align-self: center;
      }
    }
  </style>
</head>

<body>
  <header class="title colorful-border">
    <div>
      <a href="/" class="titlelink">Home</a>
      <a href="/page2.html" class="titlelink">About Me</a>
      <a href="/projects.html" class="titlelink">Projects</a>
      <a href="/contactpage.html" class="titlelink">Contact Info</a>
    </div>
  </header>

  <div class="menu-container">
    <button class="menu-button" aria-label="Open menu"></button>
    <div class="menu-content">
      <a href="/contactpage.html">Contact Me</a>
      <a href="/index.html">Home Page</a>
      <a href="/page2.html">About Me</a>
      <a href="/projects.html">Projects</a>
      <a href="/resume.html">Resume</a>
      <a href="/page3.html">Secret Project</a>
    </div>
  </div>

  <main class="survey-container">
    <h1 class="survey-title">Game Pixel Art Survey</h1>
    
    <div id="survey-content">
      <!-- Content will be dynamically generated by JavaScript -->
    </div>
  </main>

  <button class="submit-button" onclick="submitSurvey()">Submit Survey</button>
  <button class="clear-button" onclick="clearAllFields()" style="background: #dc3545; margin-top: 10px;">Clear All Fields</button>

  <footer class="footer">
    <button class="icon-button" id="btnGit" aria-label="Go to GitHub">
      <img src="images/github logo.png" alt="GitHub Icon">
    </button>
    <button class="icon-button" id="btnLink" aria-label="Go to LinkedIn">
      <img src="images/linkedin.png" alt="LinkedIn Icon">
    </button>
    <button class="icon-button" id="btnMozaic" aria-label="Go to MyMozaic">
      <img src="images/mymozaic.png" alt="MyMozaic Icon">
    </button>
    <button class="icon-button" id="btnCodePen" aria-label="Go to CodePen">
      <img src="images/codepen-min.png" alt="CodePen Icon">
    </button>
    <script>
      document.getElementById("btnGit").addEventListener("click", function() {
        window.location.href = "https://github.com/JosephPotapenko";
      });
      document.getElementById("btnLink").addEventListener("click", function() {
        window.location.href = "https://www.linkedin.com/in/joseph-potapenko-1788a7316/";
      });
      document.getElementById("btnMozaic").addEventListener("click", function() {
        window.location.href = "https://www.mymozaic.com/josephpotapenko";
      });
      document.getElementById("btnCodePen").addEventListener("click", function() {
        window.location.href = "https://codepen.io/JosephPotapenko";
      });
    </script>
  </footer>

  <script>
    // Descriptions database from deduplicated_lines.txt
    const descriptionsDatabase = {
      "Almonds": "Harvested in early spring near the Judean hills, almonds offer rich flavor and are used in trade and temple offerings.",
      "Amazonite": "This blue-green stone, traded from Sinai, is prized for its calming effect and clarity. It is commonly set into jewelry.",
      "Amber_Locket": "This locket contains a polished amber gem strung on flax cord. It is worn as a token of protection.",
      "Amber": "Golden amber, brought by traders from the north, glows softly when warmed. It serves as a decorative charm.",
      "Amethyst": "A deep violet stone worn by scribes and nobles. It's set into rings and seals and valued for its beauty.",
      "Ancient_Egyptian_Earrings": "Gold earrings with lotus motifs, crafted in the Egyptian Delta. These symbolize rebirth and beauty.",
      "Ancient_Fish_Hook": "A simple bronze fish hook used along the Sea of Galilee. It helps sustain local villages and daily life.",
      "Ancient_Flying_Toy": "Carved from wood and shaped like a bird, this toy flutters when tossed. Children play with it near village walls.",
      "Ancient_Hebrew_Dradle": "A spinning wooden top etched with early Hebrew letters. Children use it to learn script through play.",
      "Ancient_Hebrew_Necklace": "Woven from flax cord and adorned with etched stones, this necklace bears blessings and symbols of family lineage.",
      "Ancient_Hebrew_Ring": "A bronze ring bearing a carved family seal. Used to stamp wax or clay, it signifies identity and heritage.",
      "Ancient_Hebrew_RIng": "A bronze ring etched with tribal emblems. Likely worn by a household head, it seals documents and safeguards one's name.",
      "Ancient_Hebrew_Spoon": "Carved from olivewood, this spoon is used in meals and temple rites.",
      "Ancient_Israeli_Bracelet": "A bronze bracelet twisted into delicate patterns. Worn during ceremonies, it reflects craftsmanship and tribal identity.",
      "Ancient_Scroll": "A parchment scroll containing tribal records or laws. Preserved in clay jars, it is used by scribes and elders.",
      "Ancient_tablet_map": "A clay tablet etched with trade routes linking Hazor and Megiddo. Used by merchants and scouts.",
      "Antidote_Remedy": "A mix of hyssop, honey, and crushed seeds. Known in village traditions for cleansing the body.",
      "Apple": "A sweet fruit grown in northern highlands and brought to markets. Eaten fresh or dried during gatherings.",
      "Apricots": "Golden apricots are dried in the Jericho sun and stored for winter. Commonly used in stews or eaten whole.",
      "Aquamarine": "A pale blue stone often worn in amulets and pendants. It is favored for its color and clarity.",
      "Assyrian_Art": "A fragment of stone relief showing a winged beast. Once part of a palace wall, it reflects Assyrian craftsmanship.",
      "Assyrian_Coin": "A bronze coin stamped with symbols of the empire. Passed through many hands in regional trade.",
      "Assyrian_Pot": "A large clay pot with lion motifs. It stores grains, oils, or dried fruit.",
      "Assyrian_stone_Marker": "A heavy stone marked with Akkadian script. It may have once stood on a road or border.",
      "Assyrian_Swinging_Blade": "A weapon hung over gates during sieges. It swings to repel invaders.",
      "Assyrian_Swinging_Spear": "Hung on chains near fortress gates, this spear swings to defend against intruders.",
      "Assyrian_Whip_Handle": "A carved handle used by soldiers or overseers. Its worn grip shows signs of heavy use.",
      "Assyrin_Fish_God_Statue": "A carved image of Dagon, the half-fish god of grain and fertility. It reflects foreign worship practices.",
      "Avacadoes": "A soft green fruit with creamy flesh, prepared by some traders as a curiosity.",
      "Baked_Potatoes__2_": "A seasoned version of baked roots, flavored with herbs and leeks. Popular in highland homes.",
      "Baked_potatoes": "Roasted root vegetables wrapped in clay ovens. Common in village meals during the colder seasons.",
      "Barley_Brew": "A fermented drink made from roasted barley and spring water. Often consumed during feasts or harvest celebrations.",
      "Barley": "A staple grain grown in spring fields. Ground into meal or brewed into drink, it is vital to daily life.",
      "Basket_of_red_plums": "Freshly picked and stored in reed baskets, these juicy red plums are shared during summer gatherings.",
      "Basket_of_Scrolls": "A tightly wrapped collection of early writings. These scrolls contain proverbs, law, or trade records, safeguarded for generations.",
      "Basket_of_stones": "A basket filled with smooth stones for sling practice or marking boundaries. Used by shepherds and young warriors in training.",
      "Bean_Stew": "A warm mixture of lentils, garlic, and herbs simmered in clay pots. Often served during cool evenings.",
      "Beat_Soup": "Made from red root beets, this earthy soup is known to strengthen the body.",
      "Beef_and_beans": "A hearty dish with slow-cooked beef and legumes. Rich in flavor and often shared during communal meals.",
      "Beef_and_Veggies": "This stew of meat, onions, and herbs is common at feasts. A sustaining dish after long labor.",
      "Beef_stew": "Tender cuts of beef stewed with root vegetables. A favored dish in colder seasons.",
      "Beet_Salad": "A chilled dish of chopped beets and herbs in vinegar. Refreshing and served during midyear festivals.",
      "Berries": "Handpicked from the Judean hills, these tart berries provide quick nourishment while traveling.",
      "Beryl_Pendant": "A yellow-green gem set in bronze. Worn by those seeking clarity or protection from envy.",
      "Black_Beauty_Plums": "Deep purple plums with rich sweetness. Preserved or eaten fresh, and prized in early autumn.",
      "Black_Berries": "Found in shaded groves, black berries are small but nourishing.",
      "Black_Olives": "Soaked in brine and cured for weeks, these olives are served with bread or cheese.",
      "Boiled_Greens": "Cooked wild greens flavored with garlic and oil. Commonly eaten during springtime.",
      "Bone_Broth": "Simmered for hours with marrow-rich bones. Known for its nourishing quality.",
      "Bowl_of_Red_Plums": "Juicy plums served in a ceramic bowl. Often offered to honored guests.",
      "Box_of_almonds": "A wooden box filled with roasted almonds. Carried by merchants and travelers.",
      "Box_of_Dates": "Packed with sticky, sweet dates, this box is a favored travel ration.",
      "Bread": "Flat, round loaves baked on hot stones. A daily necessity and comfort.",
      "Broccoli": "A cool-weather plant grown in hillside gardens. Steamed and served with oil.",
      "Broken_Blade": "A fractured weapon once used in battle. Though no longer deadly, it holds a story and may be reforged.",
      "Broken_Hebrew_Bracelet": "A snapped bronze bracelet bearing faded script. Possibly from a tribal elder, its pieces may hold sentimental value.",
      "Bunch_of_Plums": "A cluster of ripe, red plums still attached to the stem. Often shared among workers.",
      "Bushel_of_Grain": "A large woven basket of harvested grain. Used for trade, baking, or brewing.",
      "Butter": "Churned from goat milk in skin pouches, this rich spread adds flavor to simple meals.",
      "Candle_Stick": "A bronze or clay base designed to hold tallow or oil-burning wicks. Common in homes, these illuminate interiors during evening prayers and storytelling.",
      "Carrots": "Cultivated in irrigated garden plots, carrots are sliced and cooked in stews. Their sweetness balances more bitter herbs during seasonal feasts.",
      "Carving_Blade": "A sharp blade used by artisans for shaping wood and ivory. Found in craft districts and among temple workers who fashion ceremonial objects.",
      "Cheese": "Pressed from goat or sheep milk, cheese is wrapped in leaves and stored in caves. Widely traded across Canaan, it is produced in spring and early summer.",
      "Chestnuts": "Collected in forested highlands during late summer. Roasted chestnuts are a common treat and a seasonal delicacy.",
      "Chicken_Broth": "A simple broth made by boiling fowl with leeks and herbs. Often prepared for the elderly or infirm.",
      "Chicken_stew": "A hearty stew simmered with poultry, onions, and wild greens. Cooked in clay pots, it is a communal dish for gatherings.",
      "chicken_tika_masala": "A spiced dish with clear foreign influence, possibly brought by travelers or adapted from eastern trade routes. Prepared with regional herbs and poultry.",
      "Clay_Elephant_Sculpture": "A small figurine, likely a foreign import from eastern trade. Elephants symbolize strength in some distant cultures and are rare in local finds.",
      "Clay_tablet_scroll": "A rolled clay document etched with script, used before parchment became widespread. Holds contracts or divine sayings recorded by scribes.",
      "COncord_Grapes": "A misnamed or symbolic entry; dark grapes were cultivated in vineyards near Hebron and pressed into wine or dried as raisins.",
      "Container_of_Hazelnuts": "A woven pouch holding foraged hazelnuts, often stored for winter or carried by shepherds as a travel ration.",
      "Cooked_Goat": "Roasted or stewed meat from young goats, served during feasts or sacrifices. Goat herding is widespread across the Judean hills.",
      "Cranberry_Basket": "Though cranberries are not native, similar red berries are collected near streams. Carried in baskets and used in sauces and preserves.",
      "Crescent earrings": "Shaped like a waning moon, these bronze earrings may have symbolized fertility or celestial favor in neighboring cultures.",
      "Crescent_earrings": "Earrings shaped like a crescent moon, often linked to fertility symbols or worn as a charm. Popular in both Hebrew and surrounding cultures.",
      "Crushed_Meal": "Ground grain or seeds prepared using a stone mortar. Used as the base for unleavened bread or porridge.",
      "Decorative_Assyrian_Challace": "A ceremonial cup etched with lion and eagle motifs. Likely used in Assyrian rituals or royal banquets.",
      "Decorative_Egyptian_Jar": "A slender jar painted with lotus and falcon patterns. Commonly found in noble households, used for oils or perfumes.",
      "Decorative_Hebrew_Cup": "A finely crafted cup, often shared at weddings or covenant ceremonies. Sometimes etched with ancestral lines or psalms.",
      "Decorative_Hebrew_Pot": "A painted storage pot with tribal motifs. Used for offerings, ritual grains, or sacred water.",
      "Decorative_Throwing_Blade": "A balanced blade engraved with symbols. Both weapon and ornament, used by elite warriors in ceremonies or competitions.",
      "Diamond_Pendant": "While rare in this region, this clear stone is set in bronze. Likely acquired through long trade routes from Kush or India.",
      "dried_fig": "Sweet and wrinkled, this fig is sun-dried on rooftops near Hebron. It sustains travelers and is prized during long treks.",
      "Eggs": "Collected from domestic fowl and wild birds alike. Eaten boiled or mixed into stews, especially during early spring.",
      "Egyptian_Brooch": "Decorated with a scarab motif, this brooch once adorned linen robes. It likely belonged to a noble visiting from the Nile Delta.",
      "Egyptian_Compass": "A device using shadows and the sun's arc. Priests or builders in Egypt used it to align temples and pyramids to celestial paths.",
      "Egyptian_Decorative_Pot": "Painted with blue lotus and falcon wings, this vessel holds perfumes or sacred oils in Egyptian ceremonial chambers.",
      "Egyptian_Decorative_Water_Pitcher": "A slim-necked pitcher used to pour water during purification rituals. Its carvings show Nile reeds and ibis birds.",
      "Egyptian_Embalming_Jar": "One of a set used to store organs during mummification. Carved from alabaster and dedicated to protective gods like Hapi.",
      "Egyptian_Embalming_Oil": "A fragrant mixture of myrrh and spices used in burial rites. Stored in alabaster flasks to preserve sacred bodies.",
      "Egyptian_Oil_Pot": "A small vessel designed for scented oils. Often found in tombs and bathhouses, decorated with delicate blue glazes.",
      "Egyptian_Pendant": "A bronze and lapis charm bearing hieroglyphs. Worn for protection, often invoking deities like Thoth or Isis.",
      "Egyptian_Pitcher": "A tall clay vessel with painted reeds. Used for pouring water during rituals or storing daily provisions.",
      "Egyptian_Pot": "A wide-bellied storage pot with worn inscriptions. Common in households, it holds grains, dates, or oil.",
      "Egyptian_Scalpal": "A bronze tool used in mummification and minor surgery. Its edge is still sharp, bearing signs of sacred tasks.",
      "Egyptian_Sceptre": "A decorative rod of authority bearing falcon engravings. Likely held by a priest or steward in temple processions.",
      "Egyptian_Teapot": "A misnamed vessel—likely used for herbal infusions, not tea. Decorated with papyrus stalks and lotus petals.",
      "Egyptian_Urn": "A funerary jar painted with sacred symbols. Often used to hold ashes or offerings to the gods.",
      "Egyptian_Water_Jug": "A heavy jug used for drawing Nile water. Often stored near entrances for ritual cleansing or hospitality.",
      "Emerald": "A deep green gem traded from the Sinai route. It is set into bronze jewelry and worn by elite scribes or merchants.",
      "Falchion": "A curved iron blade used by guards and mercenaries. Found in border towns where conflict often breaks out.",
      "Fancy_Bow": "A laminated bow reinforced with horn and sinew. Often carried by royal escorts or skilled archers from the northern tribes.",
      "Feather_Decor": "Desert bird feathers tied to staffs or garments. Used during tribal ceremonies or to adorn festival processions.",
      "Female_Face_Sculpture_from_Persia": "A carved bust brought by traders from the east. It may have stood in a merchant's home as a sign of foreign trade.",
      "Fig": "Grown along terraced hillsides, figs are dried or eaten fresh. Mentioned in records as a symbol of prosperity and peace.",
      "Fish_1": "Salted and preserved fish caught in the Sea of Galilee. Common in markets near Capernaum and along major trade roads.",
      "Fish_2": "Smoked fish wrapped in fig leaves and stored in baskets. Eaten by travelers and offered at feasts near the lake shores.",
      "Fried_Meat": "Sliced cuts of meat crisped over fire. A treat served during local feasts and in market stalls on holy days.",
      "Fried_Potatoes": "Sliced tubers cooked on hot stones and seasoned with herbs. A humble but favored food in colder regions.",
      "Fried_Vegetables": "Seasonal vegetables pan-cooked with oil. Served during harvest gatherings or sold by traveling vendors.",
      "Garlic": "Braided and dried, garlic is used in stews and stored in cool places. Grown widely around Judean hills.",
      "Goat_Butter": "Churned from fresh milk in skin sacks by shepherds. Spread on bread or used in cooking near Hebron.",
      "Goat_Cheese": "Wrapped in leaves and stored in caves, this cheese is made in early summer and traded in southern markets.",
      "Golden_Chain_of_Assyrian_King": "A thick chain adorned with lion motifs. Taken as tribute or loot from Assyrian raids.",
      "Golden_Tag": "A thin plate used to identify rank or household. Found on garments and within tomb offerings.",
      "Gorbonzo_Beans": "A hardy legume grown in dry soil. Often boiled or mashed and stored for winter meals.",
      "Grits_and_Beef": "Cooked grain and shredded beef served together. Prepared during large gatherings or military encampments.",
      "Head_of_Baal": "A broken idol head of a foreign god. Sometimes buried or destroyed during religious reforms.",
      "Healing_Elixir": "A brew of honey and herbs stored in clay flasks. Used by families to treat illness or fatigue.",
      "Hebrew_Archive_Container": "A sealed jar used to store scrolls or tribal documents. Found in caves and elder homes.",
      "Hebrew_Challace": "A finely crafted vessel shared during covenant meals. Decorated with tribal patterns and kept in sacred spaces.",
      "Hebrew_Mortar_and_Pestel": "A stone tool used for grinding grain, herbs, or incense. Common in both homes and temple kitchens.",
      "Hebrew_Oil_Jar": "A tall jar for storing pressed olive oil. Placed beside lamps or used in meal preparations.",
      "Hebrew_Oil_Lamp": "A clay lamp used for light during prayer and study. Filled with olive oil and placed on shelves.",
      "Hebrew_Plate": "A broad clay dish used to hold bread or fruit. Decorated with family patterns and shared during gatherings.",
      "Hebrew_Pot": "A standard vessel for cooking or storage. Found in most households, often blackened by fire.",
      "Hebrew_Smoking_Pot": "A clay pot used to burn incense or dry herbs. The smoke is used in cleansing and ritual settings.",
      "Hebrew_Urn": "An urn for storing grain, oil, or ashes. Sometimes kept in homes of priests or elders.",
      "Hebrew_Vase": "A decorative vessel often presented at weddings. It carries oil, water, or offerings.",
      "Hebrew_Water_Bason": "A shallow bowl placed near doors for handwashing. Used before meals and communal worship.",
      "Hebrew_Water_Pitcher": "A clay pitcher used to pour water during meals. Found in homes and shared spaces.",
      "Hebrew_Water_Pot": "Used to store clean water drawn from wells. Commonly stored in shaded corners of the home.",
      "Herbal_Elixir": "A mixture of crushed herbs and fruit, steeped and stored in skin pouches. Often consumed during fasts.",
      "Herbal_tea": "Hot water poured over dried herbs. Served to travelers and elders as a refreshing drink.",
      "Hilted_Dual_Blade": "A dual-edged short blade with an ornate hilt. Used by bodyguards or temple watchmen.",
      "Honey_Wafers": "Thin cakes made from flour and honey. Shared during festive days and temple events.",
      "Hunting_dart": "A lightweight dart tipped with bone or bronze. Used for hunting game in open fields.",
      "Impact_Dagger": "A thick dagger meant for breaking through armor. Found on soldiers in border skirmishes.",
      "Ink_well": "A small clay vessel used by scribes. Filled with dark ink made from charcoal or crushed seeds.",
      "Israeli_pot": "A cooking pot made from local red clay. Used over fire pits in village homes.",
      "Israeli_Stone_Marker_": "A carved stone used to mark boundaries or burial places. Some are etched with family symbols.",
      "Jagged_Blade": "A broken weapon with a splintered edge. Still sharp, possibly from a recent battle.",
      "Jar_of_Honey": "A ceramic jar sealed with wax, filled with wild honey. Found near fig orchards and hillsides.",
      "Jar_of_red_plums": "Clay storage packed with preserved plums. Served during feasts or stored for winter.",
      "Kidney_Bean_Bushel": "A bushel of dried red beans collected after the early rains. Traded or stored for stew.",
      "Kings_Orders": "A rolled scroll sealed with a signet ring. Contains commands issued from a distant governor or king.",
      "Lamb_stew": "Meat simmered with herbs and lentils in clay pots. Prepared during sacred gatherings and family meals.",
      "Lamp_oil_jar": "Used to hold oil for lighting lamps. Often placed on shelves in homes or near scrolls.",
      "Lapiz_Lazuli_Pendant": "A blue stone set in bronze and worn on cords. Traded through Syria and admired for its vivid hue.",
      "Large_Egyptian_Pot": "A broad clay vessel from the Nile region, often used to store grain or dried fish in upper-class homes or temple kitchens.",
      "Lavendar_sprigs": "Dried sprigs used to scent garments and homes. Gathered near the Mediterranean coast and tied in bundles with twine.",
      "Legendary_Sword": "A well-forged weapon with ornate detail. Said to have passed between warriors during ancient campaigns near the Jezreel Valley.",
      "Lobster": "Rare along inland trade routes, but occasionally brought from the Mediterranean coast, prepared by boiling in clay pots.",
      "Long_Sword": "A standard infantry weapon forged from iron. Found in battlegrounds and garrisons near fortified cities.",
      "Mackeral": "Caught in the Mediterranean, salted, and transported inland. Served in small portions alongside barley and bread.",
      "Man_s_Clay_sculpture_of_Babel": "A small clay figure, possibly representing men from ancient Babel. Found near old ziggurat ruins and cracked by time.",
      "Mandarines": "Bright citrus brought from warmer coastal regions. Peeled and eaten at feasts, especially during early spring.",
      "Mashed_Potatoes": "Boiled root vegetables pounded with oil and herbs. Served hot, especially in colder months in highland regions.",
      "Matza": "Unleavened bread baked on flat stones. Traditionally eaten during sacred observances and remembrance of past deliverance.",
      "Meal_and_herbs": "A mixture of ground barley and wild herbs. Often eaten by field workers and shepherds as a quick, nourishing dish.",
      "meat_and_cheese_dish": "A plate of cooked meat paired with goat cheese. Common at evening meals in village homes or during celebrations.",
      "Medicinal_Tartar": "A paste made from crushed herbs and minerals. Applied to wounds or mixed into drink for healing.",
      "Medicine_Vile": "A small glass or clay vial used to carry crushed roots and sap. Administered in drops by healers and midwives.",
      "Milk_Bottle": "A clay jug sealed with wax or linen, used to store fresh milk from goats or sheep, especially in the early morning.",
      "Myrh": "Harvested resin packed in jars and used in burials and perfumes. Carried by merchants and temple attendants alike.",
      "Oatmeal": "Coarsely ground oats boiled in water. A common meal at dawn, flavored with dates or honey when available.",
      "Olive_Oil": "Pressed from ripe olives and stored in clay jars. Used for cooking, lighting, and anointing in homes and sacred places.",
      "olives": "Picked from gnarled trees and preserved in brine. Served with bread or meat during meals and gatherings.",
      "Onion": "Dug from irrigated fields and added to stews. Stored in baskets through the winter and spring seasons.",
      "Onyx": "A banded black stone cut and polished for rings or amulets. Traded in artisan districts and port markets.",
      "Opal_Locket": "A clay pendant with a light, iridescent stone. Worn as ornamentation, often strung with flax or wool cord.",
      "Pear": "Grown in cooler highland groves and prized for its sweet flesh. Often eaten fresh or dried for storage.",
      "Philistine_Compact_Bow": "A short composite bow favored by Philistine archers. Quick to draw and deadly at close range.",
      "Philistine_Portable_Time_Dial": "A flat stone with etched markings. Used to track hours by shadow—rare and likely elite-made.",
      "Philistine_Pot": "A rounded cooking vessel with dark paint patterns. Common in coastal regions and often found in trade towns.",
      "Philistine_Tent_Spoke": "A wooden support beam carved with foreign symbols. Used in semi-permanent structures near the borderlands.",
      "Pile_of_rope": "Twisted from flax and goat hair, this rope is strong enough for hauling or securing tents and carts.",
      "Pinto_Beans": "Speckled legumes cooked slowly with oil. A hardy meal in times of scarcity or travel.",
      "Pita_in_stew": "Pieces of torn flatbread soaked in hot broth. Shared in communal pots during feasts and family gatherings.",
      "Pitcher_of_Water": "A ceramic jug filled with cool well water. Brought to guests upon arrival and poured into washing basins.",
      "Plain_Assyrian_Bracelet": "A simple bronze band with minimal engraving. Common among soldiers or craftsmen in foreign garrisons.",
      "Plain_Wafers": "Thin flat cakes baked without leaven. Served during fasts and sacred meals in temple courtyards.",
      "Pluot": "A hybrid of plum and apricot. Grown in small orchards and eaten during mid-summer when fruit is most ripe.",
      "Pomegranate_half": "Half of a fruit placed on clay dish. Served to guests or included as offering in sacred spaces.",
      "Pomegranate": "A thick-skinned fruit with deep red seeds. Often mentioned in early Hebrew poetry and temple carvings.",
      "Pomegranates": "A cluster of ripe fruit stored in baskets. Valued for sweetness and longevity in dry seasons.",
      "Porridge": "A warm mash of grain and milk, stirred slowly. Served before dawn or during winter in shepherd camps.",
      "Potatoes": "Unearthed from shaded fields and stored in root cellars. Roasted or boiled for daily meals.",
      "Purple_Fig": "A dark, juicy fig grown in low valleys. Split and dried under the sun, then packed in clay jars.",
      "Purple_Plums": "Grown near water-rich areas, these plums are tart and refreshing. Best eaten fresh under the midday sun.",
      "Rappier": "A long slender sword with a decorated hilt. Likely ceremonial or used in duels among tribal leaders.",
      "Raw_Beef": "Cuts of fresh meat prepared for cooking. Hung in shade to cure or quickly boiled in stew pots.",
      "Raw_Chicken": "Cleaned and dressed fowl ready for the fire. Often served with herbs in clay dishes or skewered over flame.",
      "Red_Grapes": "Grown near Hebron and pressed for wine or dried into raisins. Sold in markets or offered at weddings.",
      "Red_Pottage": "A lentil stew simmered with herbs and onion. Famously traded in stories for a birthright.",
      "Regular_Bow": "A basic bow made from local wood and sinew. Used by shepherds, hunters, and young warriors alike.",
      "Ruby": "A deep red stone found rarely in local trade. Set in bronze for necklaces or brooches in noble houses.",
      "Sage": "A soft-leafed herb used in both medicine and cooking. Grown near homes and temple gardens.",
      "Sapphire": "A blue gemstone used in signet rings and adornment. Imported through eastern trade routes in small quantities.",
      "Scroll_Basket": "A woven reed basket used to carry and protect scrolls. Found in temples or with traveling scribes.",
      "Seed_Oil_Flask": "A small clay container filled with oil from pressed seeds. Poured into lamps or used in healing ointments.",
      "Shallot": "A small, bulbous root with a sweet, sharp taste. Chopped and added to stews or dried for storage through winter.",
      "Shattered_Blade": "The fractured remains of a sword. Possibly broken during battle or symbolically buried after service.",
      "Shell": "Collected along the coast and traded inland. Used as ornamentation or strung into necklaces and charms.",
      "Shew_Bread": "Special loaves placed on sacred tables in the temple. Baked without leaven and replaced weekly by priests.",
      "Shrimp": "Net-caught in shallow coastal waters and dried in the sun. Rare inland, but occasionally brought by sea traders.",
      "Slashing_Dagger": "A curved, close-range weapon with a simple grip. Used by scouts or kept hidden among garments.",
      "Smooth_Stones": "River stones chosen for their size and balance. Used in slings by shepherds or for marking boundaries.",
      "Spoke": "A wooden beam used in carts and tents. Essential for mobility, trade, and travel across rough terrain.",
      "Staff_of_Moses": "A carved walking staff associated with ancient leadership. Often recreated as a symbol of guidance and deliverance.",
      "Stone_Assyrian_Fish_God_Carving": "A relic from northern lands, depicting Dagon—part man, part fish. Evidence of foreign altars among ruins.",
      "Sun_Shell": "A bright-patterned shell with ridges like rays. Collected near the coast and kept as a keepsake.",
      "Table_grapes": "Fresh grapes served on platters at feasts. Common in vineyards around Hebron and enjoyed in late summer.",
      "Tablet_1": "A clay tablet etched with early script. Found near desert settlements, possibly used in trade or land claims.",
      "tablet_10": "Another clay tablet bearing tribal laws or land divisions. Found buried with sealed scroll jars.",
      "tablet_11": "A record of grain storage carved by village scribes. Preserved in stone to endure long seasons.",
      "Tablet_12": "A list of temple duties or offerings. Discovered in a priest's chamber beneath ash and rubble.",
      "Tablet_13": "Contains family names and inheritance lines. Used in resolving disputes among clans.",
      "tablet_14": "A list of debts and payments scratched in haste. Found near the ruins of a border town granary.",
      "tablet_15": "A festival schedule with names of elders. Likely posted in public spaces or kept by officials.",
      "Tablet_16": "A shipment record of oil and dates. Details the route between En Gedi and the Jordan valley.",
      "Tablet_19": "A clay record of disputes over well rights. Marked with seal impressions from three households.",
      "Tablet_2": "A list of livestock trades between tribes. Marked with symbols indicating regions and herds.",
      "tablet_20": "Describes a building plan for a structure of worship. Uses cubit measurements and priestly inscriptions.",
      "Tablet_3": "Early song lyrics carved with precision. Possibly recited during harvest or temple processions.",
      "tablet_4": "A teacher's lesson in basic script. Likely used in village schooling for young boys.",
      "Tablet_5": "A tribute record of goods given to a nearby kingdom. Details include weight, origin, and caravan routes.",
      "Tablet_6": "Instructions for preparing incense mixtures. Recovered from a temple archive near the Dead Sea.",
      "tablet_7": "An inventory list of clay vessels. Each line shows purpose—oil, water, or ritual use.",
      "Tablet_8": "Fragment of a covenant inscription. Referenced during tribal agreements or oath ceremonies.",
      "tablet_9": "A clay list of known wells and springs. Carried by scouts or traders traveling unfamiliar roads.",
      "tablets_17___18": "A double-entry record bound with twine. Found in a collapsed house—still intact with burn marks.",
      "Tent_Spoke": "A long wooden rod used to support tent frames. Essential gear for travelers and herders.",
      "The_fiery_Pheonix": "A decorative carving of a bird in flames. Possibly symbolic or imported—linked to eastern legends.",
      "THe_Historical_Scrolls": "A bundled collection of written history. Preserved in a clay jar and passed between scribes.",
      "The_Poetry_Scrolls": "Scrolls containing village songs and proverbs. Read during festivals and oral storytelling sessions.",
      "The_Prophetic_Scrolls": "Contains early prophetic messages copied by scribes. Found in dry caves sealed with wax.",
      "The_torrah_Basket": "A woven container designed to hold sacred writings. Carried with care during migration or conflict.",
      "Throwing_Blade": "A small, balanced blade with sharpened edges. Used in contests or as a concealed weapon.",
      "Throwing_Dart": "A lightweight dart tipped with iron. Practiced by young warriors aiming at targets outside the village.",
      "Topaz": "A golden gem cut from river rock. Polished and set into decorative items found in market stalls.",
      "Zircon": "A clear, diamond-like stone with brilliant facets. Rare in this region and typically acquired through distant trade routes."
    };

    // Function to extract base name from filename (removes extension and certain prefixes)
    function extractBaseName(filename) {
      // Remove file extension
      let baseName = filename.replace(/\.[^/.]+$/, "");
      
      // Remove very long descriptive prefixes (common in AI-generated filenames)
      baseName = baseName.replace(/^32_by_32_pixel_art_of_[^-]*-removebg-preview/, ""); // Remove AI-generated prefixes
      baseName = baseName.replace(/^\d{10,}[-_]?/, ""); // Remove timestamp prefixes
      
      // Remove common prefixes/patterns that might interfere with matching
      baseName = baseName.replace(/^\d+[-_]/, ""); // Remove leading numbers with dash/underscore
      baseName = baseName.replace(/^asset_\d+\s*\(\d+\)[-_]?/, ""); // Remove asset_(number)(number) patterns
      baseName = baseName.replace(/^rotated_image\s*\(\d+\)[-_]?/, ""); // Remove rotated_image patterns
      baseName = baseName.replace(/^cut_\d+[-_]?/, ""); // Remove cut_ patterns
      baseName = baseName.replace(/[-_]?removebg[-_]?preview[-_]?/, ""); // Remove removebg-preview patterns
      baseName = baseName.replace(/[-_]?cleaned[-_]?/, ""); // Remove cleaned patterns
      baseName = baseName.replace(/[-_]?centered[-_]?/, ""); // Remove centered patterns
      
      // Clean up remaining patterns and normalize
      baseName = baseName.replace(/[-_]+/g, "_"); // Normalize separators to underscores
      baseName = baseName.replace(/^_+|_+$/g, ""); // Remove leading/trailing underscores
      
      // If the result is empty or still very long/complex, try to extract meaningful parts
      if (!baseName || baseName.length > 50) {
        // Try to extract from the end of the original filename (often the actual item name)
        const parts = filename.replace(/\.[^/.]+$/, "").split(/[-_]/);
        if (parts.length > 1) {
          // Take the last few meaningful parts
          const meaningfulParts = parts.slice(-2).filter(part => 
            part.length > 2 && 
            !part.match(/^\d+$/) && 
            !part.match(/^(removebg|preview|cleaned|centered)$/)
          );
          if (meaningfulParts.length > 0) {
            baseName = meaningfulParts.join("_");
          }
        }
      }
      
      return baseName;
    }

    // Function to find matching description
    function findMatchingDescription(filename) {
      const baseName = extractBaseName(filename);
      
      // Direct exact match first - this should be the primary method
      if (descriptionsDatabase[baseName]) {
        return {
          name: baseName.replace(/_/g, " "), // Convert underscores to spaces for display
          description: descriptionsDatabase[baseName]
        };
      }
      
      // Try exact match with original filename (without extension)
      const originalBase = filename.replace(/\.[^/.]+$/, "");
      if (descriptionsDatabase[originalBase]) {
        return {
          name: originalBase.replace(/_/g, " "),
          description: descriptionsDatabase[originalBase]
        };
      }
      
      // Try case variations only for exact matches
      const exactVariations = [
        baseName.toLowerCase(),
        baseName.charAt(0).toUpperCase() + baseName.slice(1).toLowerCase(),
        baseName.replace(/_/g, " "),
        baseName.replace(/_/g, " ").toLowerCase(),
        baseName.replace(/_/g, " ").charAt(0).toUpperCase() + baseName.replace(/_/g, " ").slice(1).toLowerCase(),
        originalBase,
        originalBase.toLowerCase(),
        originalBase.charAt(0).toUpperCase() + originalBase.slice(1).toLowerCase()
      ];
      
      for (const variation of exactVariations) {
        if (descriptionsDatabase[variation]) {
          return {
            name: variation.replace(/_/g, " "),
            description: descriptionsDatabase[variation]
          };
        }
      }
      
      // Only use partial matching if no exact match found and score is very high (98%+)
      let bestMatch = null;
      let bestScore = 0;
      
      for (const [key, description] of Object.entries(descriptionsDatabase)) {
        const score = calculateExactMatchScore(baseName, key);
        if (score > bestScore && score >= 0.98) { // Very high threshold for partial matches
          bestScore = score;
          bestMatch = {
            name: key.replace(/_/g, " "),
            description: description
          };
        }
      }
      
      // Return partial match only if score is very high
      if (bestMatch && bestScore >= 0.98) {
        return bestMatch;
      }
      
      // No match found - return empty instead of defaulting to anything
      return {
        name: '',
        description: ''
      };
    }
    
    // Fallback matching for common game item patterns
    function tryFallbackMatching(baseName, originalFilename) {
      const lowerBase = baseName.toLowerCase();
      const lowerOriginal = originalFilename.toLowerCase();
      
      // Armor patterns
      if (lowerBase.includes('armor') || lowerBase.includes('leather') || lowerOriginal.includes('armor')) {
        if (descriptionsDatabase['Leather_armor']) {
          return {
            name: "Leather armor",
            description: descriptionsDatabase['Leather_armor']
          };
        }
      }
      
      // Helmet patterns
      if (lowerBase.includes('helm') || lowerBase.includes('helmet')) {
        if (lowerBase.includes('gold') && descriptionsDatabase['Golden_helm']) {
          return {
            name: "Golden helm",
            description: descriptionsDatabase['Golden_helm']
          };
        }
      }
      
      // Shield patterns
      if (lowerBase.includes('shield')) {
        if (lowerBase.includes('gold') && descriptionsDatabase['Gold_rimmed_shield']) {
          return {
            name: "Gold rimmed shield",
            description: descriptionsDatabase['Gold_rimmed_shield']
          };
        } else if (lowerBase.includes('king') && descriptionsDatabase['Kings_shield']) {
          return {
            name: "King's shield", 
            description: descriptionsDatabase['Kings_shield']
          };
        }
      }
      
      // Weapon patterns
      if (lowerBase.includes('sword') || lowerBase.includes('blade')) {
        if (lowerBase.includes('broken') && descriptionsDatabase['Broken_Blade']) {
          return {
            name: "Broken Blade",
            description: descriptionsDatabase['Broken_Blade']
          };
        } else if (descriptionsDatabase['Long_Sword']) {
          return {
            name: "Long Sword",
            description: descriptionsDatabase['Long_Sword']
          };
        }
      }
      
      // Bow patterns
      if (lowerBase.includes('bow')) {
        if (descriptionsDatabase['Regular_Bow']) {
          return {
            name: "Regular Bow",
            description: descriptionsDatabase['Regular_Bow']
          };
        }
      }
      
      return null;
    }
    
    // Calculate exact similarity score between filename and database key
    function calculateExactMatchScore(baseName, key) {
      const normalizedBase = baseName.toLowerCase().replace(/[^a-z0-9]/g, "");
      const normalizedKey = key.toLowerCase().replace(/[^a-z0-9]/g, "");
      
      // Exact match gets highest score
      if (normalizedBase === normalizedKey) {
        return 1.0;
      }
      
      // Also check with spaces converted to underscores and vice versa
      const baseWithUnderscore = baseName.toLowerCase().replace(/\s+/g, "_");
      const keyWithSpace = key.toLowerCase().replace(/_/g, " ");
      
      if (baseWithUnderscore === key.toLowerCase() || baseName.toLowerCase() === keyWithSpace) {
        return 1.0;
      }
      
      // For very precise matching, require exact word order and content
      const baseWords = baseName.toLowerCase().split(/[_\s-]+/).filter(w => w.length > 0);
      const keyWords = key.toLowerCase().split(/[_\s-]+/).filter(w => w.length > 0);
      
      if (baseWords.length === 0 || keyWords.length === 0) {
        return 0;
      }
      
      // Count exact matching words in exact order
      let exactMatches = 0;
      let maxLength = Math.max(baseWords.length, keyWords.length);
      
      for (let i = 0; i < Math.min(baseWords.length, keyWords.length); i++) {
        if (baseWords[i] === keyWords[i]) {
          exactMatches++;
        }
      }
      
      // Calculate score based on exact word matches in order
      const orderScore = exactMatches / maxLength;
      
      // Only return high scores for very close matches
      return orderScore;
    }
    
    // Calculate similarity score between filename and database key
    function calculateMatchScore(baseName, key) {
      const normalizedBase = baseName.toLowerCase().replace(/[^a-z0-9]/g, "");
      const normalizedKey = key.toLowerCase().replace(/[^a-z0-9]/g, "");
      
      // Exact match gets highest score
      if (normalizedBase === normalizedKey) {
        return 1.0;
      }
      
      // Also check with spaces converted to underscores and vice versa
      const baseWithUnderscore = baseName.toLowerCase().replace(/\s+/g, "_");
      const keyWithSpace = key.toLowerCase().replace(/_/g, " ");
      
      if (baseWithUnderscore === key.toLowerCase() || baseName.toLowerCase() === keyWithSpace) {
        return 1.0;
      }
      
      // Split into words for word-based matching
      const baseWords = baseName.toLowerCase().split(/[_\s-]+/).filter(w => w.length > 2);
      const keyWords = key.toLowerCase().split(/[_\s-]+/).filter(w => w.length > 2);
      
      if (baseWords.length === 0 || keyWords.length === 0) {
        return 0;
      }
      
      // Count matching words with more sophisticated matching
      let matchingWords = 0;
      for (const baseWord of baseWords) {
        for (const keyWord of keyWords) {
          if (baseWord === keyWord || 
              (baseWord.length >= 4 && keyWord.length >= 4 && 
               (baseWord.includes(keyWord) || keyWord.includes(baseWord)))) {
            matchingWords++;
            break;
          }
        }
      }
      
      // Calculate score based on word matches
      const wordScore = matchingWords / Math.max(baseWords.length, keyWords.length);
      
      // Bonus for partial word matches if we have strong word overlap
      let partialScore = 0;
      if (wordScore >= 0.5) {
        for (const baseWord of baseWords) {
          for (const keyWord of keyWords) {
            if (baseWord !== keyWord && baseWord.length >= 3 && keyWord.length >= 3) {
              if (baseWord.startsWith(keyWord) || keyWord.startsWith(baseWord)) {
                partialScore += 0.1;
              }
            }
          }
        }
      }
      
      return Math.min(1.0, wordScore + partialScore);
    }

    // Image database - organized by folder structure
    const imageDatabase = {
      "Game pixel art": {
        images: ["Untitled-cleaned.png"],
        subfolders: {
          "Armor": {
            images: [],
            subfolders: {
              "Body armor - armor": {
                images: [
                  "1740640300970-removebg-preview.png",
                  "1740640679583-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_12-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_17-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_3-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_7-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_8-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__1__2-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__1__5-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__11-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__12-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__13-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__2-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__21-removebg-preview-cleaned.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__3-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__6-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__8-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__8-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc._in_ancient_Israelite_style.png__1__4-removebg-preview.png",
                  "Leather armor.png",
                  "outlined-image (11).png",
                  "outlined-image (2).png",
                  "outlined-image (3).png",
                  "outlined-image (6).png",
                  "women's gold armor.png"
                ]
              },
              "helmets - armor": {
                images: [
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_13-removebg-preview-cleaned.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_14-removebg-preview (1).png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_15-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_16-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_18-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_19-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__1__8-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__1__9-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__2__4-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__2-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__3-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__4-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__5-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__6-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png__3__7-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc._in_ancient_Israelite_style.png__1__2-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc._in_ancient_Israelite_style.png__1__3-removebg-preview.png",
                  "Golden helm.png",
                  "Philistine Helm.png",
                  "soldier's gold helmet.png"
                ]
              },
              "shields - armor": {
                images: [
                  "1740044691909-removebg-preview.png",
                  "1740044700568-removebg-preview.png",
                  "1740102860965-removebg-preview.png",
                  "1740103205801-removebg-preview.png",
                  "1740104230242-removebg-preview.png",
                  "1740106704928-removebg-preview.png",
                  "1740106789051-removebg-preview.png",
                  "1740106803164-removebg-preview.png",
                  "1740106817066-removebg-preview.png",
                  "1740106830940-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_10-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_11-removebg-preview.png",
                  "32_by_32_pixel_art_of_different_armor_pieces_in_leather__copper__bronze__iron__etc.__in_an_ancient_Israelite_style.png_9-removebg-preview.png",
                  "32_by_32_pixel_art_of_shaul__a_rod__a_staff__a_horn__a_coat_of_many_colors__a_torch__a_flaming_sword__a_candleabra__and_different_armor_pieces_in_leather__copper__bronze__iron__etc._in_ancient_Israeli (1).png",
                  "Gold rimmed shield.png",
                  "King's shield.png",
                  "Spear man's shield.png",
                  "asset_1 (45)-cleaned.png",
                  "quality wooden shield.png"
                ]
              }
            }
          },
          "Equipables": {
            images: [
              "asset_14-cleaned_centered.png",
              "Fishing rod (2).png",
              "rotated_image (10).png",
              "rotated_image (11).png",
              "rotated_image (14).png",
              "rotated_image (15).png",
              "rotated_image (16).png",
              "rotated_image (17).png",
              "rotated_image (18).png",
              "rotated_image (19).png",
              "rotated_image (20).png"
            ]
          },
          "clothing": {
            images: [
              "Green cloak.png",
              "outlined-image (10).png",
              "outlined-image (7).png",
              "outlined-image (8).png",
              "outlined-image (9).png",
              "Red cloak.png"
            ]
          },
          "Collectibles": {
            images: [],
            subfolders: {
              "assorted": {
                images: [
                  "1740104286089-removebg-preview-cleaned.png",
                  "1740104886409-removebg-preview.png",
                  "1740105313697-removebg-preview.png",
                  "1740107414582-removebg-preview.png",
                  "Ancient_Bracelet.png",
                  "Ancient_Fish_Hook.png",
                  "Ancient_Flying_Toy.png",
                  "Ancient_Necklace.png",
                  "Broken_Blade.png",
                  "Broken_Bracelet.png",
                  "Crescent earrings.png",
                  "Golden_Tag.png",
                  "Scroll.png",
                  "Shattered_Blade.png",
                  "Spoon.png",
                  "asset_10 (1)-cleaned.png",
                  "asset_10 (3)-cleaned.png",
                  "asset_10 (5)-cleaned.png",
                  "asset_4 (22).png",
                  "asset_5 (14).png",
                  "asset_5 (19)-cleaned.png",
                  "asset_5 (21)-cleaned.png",
                  "asset_6 (17)-cleaned.png",
                  "asset_6 (32).png",
                  "asset_6 (36).png",
                  "asset_7 (10)-cleaned.png",
                  "asset_7 (11)-cleaned.png",
                  "asset_7 (2)-cleaned.png",
                  "asset_8 (7)-cleaned.png",
                  "asset_9 (10).png",
                  "clay pitcher.png",
                  "peacock clay model.png",
                  "rotated_image (4).png"
                ]
              },
              "Assyrian": {
                images: [
                  "1740104313426-removebg-preview-cleaned.png",
                  "1740104709778-removebg-preview.png",
                  "1740104773338-removebg-preview.png",
                  "1740104865757-removebg-preview.png",
                  "1740105607503-removebg-preview.png",
                  "1740106298405-removebg-preview.png",
                  "1740640648263-removebg-preview.png",
                  "32_by_32_pixel_art_style_images_of_baskets_of_scrolls__tablets_with_engravings__pots__and_other_similar_ancient_Israelite_artifacts_in_an_inventory_style_arrangement.png_10_1_-removebg-preview.png",
                  "Assyrian_Art.png",
                  "Assyrian_Pot.png",
                  "Assyrian_stone_Marker.png",
                  "Assyrin_Fish_God_Statue.png",
                  "Asyrian decorative piece.png",
                  "Female_Face_Sculpture_from_Persia.png",
                  "Golden_Chain_of_Assyrian_King.png",
                  "Greek stone eagle model.png",
                  "Man_s_Clay_sculpture_of_Babel.png",
                  "Philistine shield.png",
                  "Philistine_Portable_Time_Dial.png",
                  "Philistine_Pot.png",
                  "Philistine_Tent_Spoke.png",
                  "Plain_Assyrian_Bracelet.png",
                  "Stone_Assyrian_Fish_God_Carving.png",
                  "asset_1 (44)-cleaned.png",
                  "asset_1 (62).png",
                  "asset_3 (32).png",
                  "asset_6 (14)-cleaned.png",
                  "asset_6 (31).png",
                  "asset_7 (10).png",
                  "asset_7 (20).png",
                  "asset_9 (17).png",
                  "asset_9 (9).png",
                  "cut_0_centered.png"
                ]
              },
              "Canaanitish": {
                images: [
                  "1740044417630-removebg-preview.png",
                  "1740044479573-removebg-preview.png",
                  "1740044491281-removebg-preview.png",
                  "1740044525251-removebg-preview.png",
                  "1740044551480-removebg-preview.png",
                  "1740044579475-removebg-preview.png",
                  "1740044889351-removebg-preview.png",
                  "1740104630988-removebg-preview.png",
                  "1740104735077-removebg-preview.png",
                  "1740104823874-removebg-preview.png",
                  "1740105103587-removebg-preview.png",
                  "1740105247510-removebg-preview.png",
                  "1740105267129-removebg-preview.png",
                  "1740105726617-removebg-preview.png",
                  "1740105763601-removebg-preview.png",
                  "1740105858778-removebg-preview.png",
                  "1740106176368-removebg-preview.png",
                  "1740106580772-removebg-preview.png",
                  "1740106691475-removebg-preview.png",
                  "1740644541419-removebg-preview.png",
                  "Assyrian_Coin.png",
                  "Canaanite 1.png",
                  "Canaanite 3.png",
                  "Canaanite urn.png",
                  "Clay_Elephant_Sculpture.png",
                  "Decorative_Assyrian_Challace.png",
                  "Gilded_horn-removebg-preview.png",
                  "Gold Jewish Decorative plate.png",
                  "Head_of_Baal.png",
                  "Wooden Shield.png",
                  "asset_1 (58).png",
                  "asset_2 (52).png",
                  "asset_2 (56).png",
                  "asset_4 (15).png",
                  "asset_4 (19).png",
                  "asset_4 (29)-cleaned.png",
                  "asset_4 (30)-cleaned.png",
                  "asset_5 (12)-cleaned.png",
                  "asset_5 (16).png",
                  "asset_5-cleaned (3).png",
                  "asset_6 (15)-cleaned.png",
                  "asset_6 (34).png",
                  "asset_6 (35).png",
                  "asset_7 (12).png",
                  "asset_7 (9)-cleaned.png",
                  "asset_9 (5)-cleaned.png",
                  "asset_9 (8)-cleaned.png",
                  "asset_9-cleaned.png",
                  "canaanite 2.png"
                ]
              },
              "Egyptian": {
                images: [
                  "1740044341262-removebg-preview.png",
                  "1740044371540-removebg-preview.png",
                  "1740102913876-removebg-preview.png",
                  "1740102952498-removebg-preview.png",
                  "1740103172722-removebg-preview.png",
                  "1740103313584-removebg-preview.png",
                  "1740104269696-removebg-preview.png",
                  "1740104329697-removebg-preview-cleaned.png",
                  "1740104364648-removebg-preview-cleaned.png",
                  "1740105378325-removebg-preview.png",
                  "1740105503367-removebg-preview.png",
                  "1740105529196-removebg-preview.png",
                  "1740105557383-removebg-preview.png",
                  "1740106644251-removebg-preview.png",
                  "1740106731199-removebg-preview.png"
                ]
              },
              "Israeli": { images: [] },
              "tablets": {
                images: [],
                subfolders: {
                  "Old man collection": {
                    images: [
                      "Tablet_1.png",
                      "Tablet_12.png",
                      "Tablet_13.png",
                      "Tablet_16.png",
                      "Tablet_19.png",
                      "Tablet_2.png",
                      "Tablet_3.png",
                      "Tablet_5.png",
                      "Tablet_6.png",
                      "Tablet_8.png",
                      "tablet_10.png",
                      "tablet_11.png",
                      "tablet_14.png",
                      "tablet_15.png",
                      "tablet_20.png",
                      "tablet_4.png",
                      "tablet_7.png",
                      "tablet_9.png",
                      "tablets_17___18.png"
                    ]
                  }
                }
              }
            }
          },
          "food decor": {
            images: [
              "1740102223008-removebg-preview.png",
              "1740102257659-removebg-preview.png",
              "1740102287698-removebg-preview.png",
              "1740102294384-removebg-preview.png",
              "1740102363159-removebg-preview.png",
              "32_by_32_pixel_art_of_foods_in_an_inventory_style__including_dates__figs__almonds__pomegranates__plums__grapes__nuts.png_5-removebg-preview (1).png",
              "32_by_32_pixel_art_of_foods_in_an_inventory_style__including_dates__figs__almonds__pomegranates__plums__grapes__nuts.png_6-removebg-preview (1).png",
              "32_by_32_pixel_art_of_foods_in_an_inventory_style__including_dates__figs__almonds__pomegranates__plums__grapes__nuts.png_8-removebg-preview (1).png",
              "Avacadoes.png",
              "Basket_of_red_plums.png",
              "Black_Beauty_Plums.png",
              "Bowl of almonds.png",
              "Bowl of pistachios.png",
              "Bowl_of_Red_Plums.png",
              "Box of nuts.png",
              "Box_of_Dates.png",
              "Box_of_almonds.png",
              "Bunch_of_Plums.png",
              "Carrots.png",
              "Container_of_Hazelnuts.png",
              "Decor figs.png",
              "Decor fruit.png",
              "Decorative fruit.png",
              "Decorative hanging figs.png",
              "Dried plums.png",
              "Mandarines.png",
              "Orange.png",
              "Pluot.png",
              "Pomegranate_half.png",
              "Pomegranates.png",
              "Potatoes.png",
              "Purple plums.png",
              "Purple_Plums.png",
              "Table_grapes.png",
              "Tangerine.png",
              "apricot pile.png",
              "asset_10 (2)-cleaned.png",
              "box of yams.png",
              "cucumbers.png",
              "decorative fruit 2.png",
              "decorative fruit 3.png",
              "decorative fruit 4.png",
              "decorative fruit 5.png",
              "decorative fruit 6.png",
              "edited-image (1).png",
              "edited-image.png",
              "platter of almonds.png"
            ]
          },
          "Foods": {
            images: [],
            subfolders: {
              "drinks": {
                images: [
                  "Barley_Brew.png",
                  "Herbal_Elixir.png",
                  "Herbal_tea.png",
                  "Medicinal_Tartar.png"
                ]
              },
              "Farming products": {
                images: [
                  "Butter.png",
                  "Cheese.png",
                  "Eggs.png",
                  "Goat_Butter.png",
                  "Goat_Cheese.png"
                ]
              },
              "fish": {
                images: [
                  "1743751207158-removebg-preview.png",
                  "1743751212957-removebg-preview.png",
                  "1743751215881-removebg-preview.png",
                  "1743751219014-removebg-preview.png",
                  "32_by_32_pixel_art_inventory-style_items_including_shells__crabs__shrimp__squid__flounders__fish__octopuses__ores__armor__and_vegetables.png_2-removebg-preview.png",
                  "32_by_32_pixel_art_inventory-style_items_including_shells__crabs__shrimp__squid__flounders__fish__octopuses__ores__armor__and_vegetables.png_3-removebg-preview.png",
                  "32_by_32_pixel_art_inventory-style_items_with_high_quality__inspired_by_Stardew_Valley_fish.png_2-removebg-preview (2).png",
                  "32_by_32_pixel_art_inventory-style_items_with_high_quality__inspired_by_Stardew_Valley_fish.png_3-removebg-preview.png",
                  "32_by_32_pixel_art_inventory-style_items_with_high_quality__inspired_by_Stardew_Valley_fish.png_4-removebg-preview.png"
                ]
              }
            }
          },
          "footwear": {
            images: [],
            subfolders: {
              "foot bindings": {
                images: [
                  "Canaanite foot bindings.png",
                  "asset_3 (24)-cleaned.png",
                  "foot bindings .png"
                ]
              },
              "sandals": {
                images: [
                  "Israeli sandals.png",
                  "king's sandals.png",
                  "merchant's sandals.png",
                  "worn sandals.png"
                ]
              }
            }
          },
          "furniture": {
            images: [
              "1740044812891-removebg-preview.png",
              "1740105001187-removebg-preview - Copy-cleaned.png",
              "asset_2 (53).png"
            ],
            subfolders: {
              "bookcase": {
                images: [
                  "Book case 1.png",
                  "Book case 2.png",
                  "Book case 3.png",
                  "Book case 4.png"
                ]
              },
              "cabinets": {
                images: [
                  "1740045048779-removebg-preview.png",
                  "1740106001654-removebg-preview.png",
                  "asset_2 (12).png",
                  "asset_3 (39)-cleaned.png",
                  "cabinet 1.png",
                  "cabinet 2.png"
                ]
              },
              "chairs": {
                images: [
                  "Wicker Chair.png"
                ]
              },
              "chests": {
                images: [
                  "1740105977993-removebg-preview.png",
                  "1740105988407-removebg-preview.png",
                  "asset_1 (63).png"
                ]
              },
              "decorations": {
                images: [],
                subfolders: {
                  "On Floor": {
                    images: [
                      "1740044952828-removebg-preview.png",
                      "1740045074729-removebg-preview.png",
                      "1740045112478-removebg-preview.png",
                      "1740102716072-removebg-preview.png",
                      "32_by_32_pixel_art_style_images_of_baskets_of_scrolls__tablets_with_engravings__pots__and_other_similar_ancient_Israelite_artifacts_in_an_inventory_style_arrangement.png_12_1_-removebg-preview.png",
                      "32_by_32_pixel_art_style_images_of_baskets_of_scrolls__tablets_with_engravings__pots__and_other_similar_ancient_Israelite_artifacts_in_an_inventory_style_arrangement.png_5_1_-removebg-preview.png",
                      "32_by_32_pixel_art_style_images_of_baskets_of_scrolls__tablets_with_engravings__pots__and_other_similar_ancient_Israelite_artifacts_in_an_inventory_style_arrangement.png__1__8-removebg-preview.png",
                      "Bushel_of_Grain.png",
                      "Cranberry_Basket.png",
                      "Gorbonzo_Beans.png",
                      "Kidney_Bean_Bushel.png",
                      "Pinto_Beans.png",
                      "Unchaffed_Grain.png",
                      "decorative pillows.png",
                      "kings trash can.png",
                      "outlined-image.png"
                    ]
                  },
                  "On Table": {
                    images: [
                      "1740042600640-removebg-preview.png",
                      "1740043832146-removebg-preview.png",
                      "1740044901381-removebg-preview.png",
                      "1740044964435-removebg-preview.png",
                      "1740045061001-removebg-preview.png",
                      "1740105669738-removebg-preview.png",
                      "1740105871974-removebg-preview.png",
                      "1740105919281-removebg-preview.png",
                      "32_by_32_pixel_art_of_ancient_Israelite_dishes_in_an_inventory_style.png__2__18-removebg-preview.png",
                      "32_by_32_pixel_art_of_ancient_Israelite_dishes_in_an_inventory_style.png__2__28-removebg-preview.png",
                      "32_by_32_pixel_art_of_ancient_Israelite_dishes_in_an_inventory_style.png__2__29-removebg-preview (1).png",
                      "32_by_32_pixel_art_style_images_of_ancient_Israelite_furniture_including_baskets__tables__chairs__shelves__pots__and_other_similar_items_in_an_inventory_style_arrangement.png_4-removebg-preview.png",
                      "Basket of things.png",
                      "Cup.png",
                      "Hebrew_Oil_Jar.png",
                      "Ink_well.png",
                      "Lamp_oil_jar.png",
                      "Pitcher_of_Water.png",
                      "Pot.png",
                      "asset_1 (40).png",
                      "asset_10 (1).png",
                      "asset_2 (14).png",
                      "asset_2 (36).png",
                      "asset_3 (28).png",
                      "asset_3 (31).png",
                      "asset_4 (10).png",
                      "asset_4-cleaned (2).png",
                      "asset_5 (11).png",
                      "asset_6 (10).png",
                      "asset_6 (12).png",
                      "asset_8 (10).png",
                      "asset_9 (8).png",
                      "jar of cranberries.png",
                      "outlined-image (1).png"
                    ]
                  },
                  "On Wall": {
                    images: [
                      "Feather_Decor.png",
                      "Incense Burner.png",
                      "asset_3 (37)-cleaned.png",
                      "asset_4 (16).png",
                      "asset_7 (11).png",
                      "asset_8 (10)-cleaned.png",
                      "asset_9 (6)-cleaned.png"
                    ]
                  }
                }
              },
              "stalls": {
                images: [
                  "asset_1 (20).png",
                  "asset_1 (21).png",
                  "asset_1 (22).png",
                  "asset_1 (23).png",
                  "asset_1 (24).png",
                  "asset_1 (32).png",
                  "asset_1 (33).png",
                  "asset_1 (34).png",
                  "asset_1 (44).png"
                ]
              },
              "tabernacle": {
                images: [
                  "asset_1 (41).png",
                  "asset_5 (19).png",
                  "asset_6 (15).png",
                  "asset_6 (22).png",
                  "asset_8 (6).png"
                ]
              },
              "tables": {
                images: [
                  "1740106964571-removebg-preview.png",
                  "Study table 1.png",
                  "asset_8 (3).png"
                ]
              }
            }
          },
          "gems or jewelry": {
            images: [],
            subfolders: {
              "gems": {
                images: [
                  "32_by_32_pixel_art_style_inventory_of_jewels__gems__and_ancient_artifacts.png_3-removebg-preview.png",
                  "Amazonite.png",
                  "Amber.png",
                  "Amethyst.png",
                  "Aquamarine.png",
                  "Emerald.png",
                  "Onyx.png",
                  "Ruby.png",
                  "Sapphire.png",
                  "Topaz.png",
                  "Zircon.png"
                ]
              },
              "jewelry": {
                images: [
                  "Princess' hair peice.png"
                ],
                subfolders: {
                  "Bracelets": {
                    images: [
                      "antler bracelet.png",
                      "asset_1 (25).png",
                      "asset_1 (26).png",
                      "asset_2 (21).png",
                      "asset_2 (22).png",
                      "asset_2 (23).png",
                      "asset_2 (45)-cleaned.png",
                      "asset_3 (19).png",
                      "asset_3 (20).png",
                      "asset_4 (25).png",
                      "asset_4 (26).png",
                      "asset_4 (27).png",
                      "asset_5 (23).png",
                      "asset_6 (26).png",
                      "asset_7 (16).png",
                      "asset_7 (17).png",
                      "asset_7 (18).png",
                      "common bracelet.png",
                      "feather bracelet.png",
                      "flower bracelet.png",
                      "forager bracelet.png",
                      "leaf bracelet.png",
                      "plant bracelet.png",
                      "shield bracelet.png",
                      "wave bracelet.png"
                    ]
                  },
                  "necklaces": {
                    images: [
                      "asset_1 (15).png",
                      "asset_1 (16).png",
                      "asset_1 (17).png",
                      "asset_1 (18).png",
                      "asset_1 (27).png",
                      "asset_1 (28).png",
                      "asset_1 (29).png",
                      "asset_1 (30).png",
                      "asset_1 (45).png",
                      "asset_1 (46).png",
                      "asset_1 (47).png",
                      "asset_1 (48).png",
                      "asset_1 (53).png",
                      "asset_1 (54).png",
                      "asset_1 (9)-cleaned.png",
                      "asset_2 (15).png",
                      "asset_2 (16).png",
                      "asset_2 (25).png",
                      "asset_2 (26)-cleaned.png",
                      "asset_2 (27).png",
                      "asset_2 (33).png",
                      "asset_2 (39).png",
                      "asset_2 (40).png",
                      "asset_2 (41).png",
                      "asset_2 (42).png",
                      "asset_2 (47).png",
                      "asset_2 (48).png",
                      "asset_3 (12).png",
                      "asset_3 (13).png",
                      "asset_3 (14).png",
                      "asset_3 (22).png",
                      "asset_3 (24).png",
                      "asset_3 (35).png",
                      "asset_3 (36).png",
                      "asset_3 (8)-cleaned.png",
                      "asset_4 (12).png",
                      "asset_5 (21).png",
                      "asset_5 (22).png",
                      "asset_6 (24).png",
                      "asset_6 (25).png",
                      "ruby necklace.png"
                    ]
                  },
                  "Rings": {
                    images: [
                      "amnethyst ring.png",
                      "asset_1 (19).png",
                      "asset_1 (31).png",
                      "asset_1 (49).png",
                      "asset_1 (50).png",
                      "asset_10 (6).png",
                      "asset_2 (17).png",
                      "asset_2 (18).png",
                      "asset_2 (19).png",
                      "asset_2 (24).png",
                      "asset_2 (26).png",
                      "asset_2 (28).png",
                      "asset_2 (43).png",
                      "asset_3 (21).png",
                      "asset_3 (23).png",
                      "asset_3 (25).png",
                      "asset_3 (34).png",
                      "asset_3 (37).png",
                      "asset_4 (13).png",
                      "asset_4 (28).png",
                      "asset_4 (29).png",
                      "asset_4 (30).png",
                      "asset_4 (31).png",
                      "asset_4 (32).png",
                      "asset_5 (20).png",
                      "asset_5 (24).png",
                      "asset_5 (25).png",
                      "asset_5 (26).png",
                      "asset_6 (23).png",
                      "asset_6 (27).png",
                      "asset_6 (28).png",
                      "asset_6 (29).png",
                      "asset_6 (30).png",
                      "asset_7 (15).png",
                      "asset_7 (19).png",
                      "asset_9 (16).png",
                      "common ring.png",
                      "crown ring.png",
                      "diamond ring.png",
                      "flower ring.png",
                      "onyx ring.png",
                      "peridot ring.png",
                      "ruby ring.png",
                      "spiral signet ring.png",
                      "star ring.png",
                      "whirling signet ring.png"
                    ]
                  },
                  "pendants": {
                    images: [
                      "1740044240530-removebg-preview.png",
                      "1740044304547-removebg-preview.png",
                      "Amber_Locket.png",
                      "Beryl_Pendant.png",
                      "Diamond_Pendant.png",
                      "Lapiz_Lazuli_Pendant.png",
                      "Opal_Locket.png",
                      "asset_1 (2)-cleaned.png",
                      "asset_1 (3)-cleaned.png"
                    ]
                  }
                }
              }
            }
          },
          "healing items": {
            images: [],
            subfolders: {
              "healing pots": {
                images: [
                  "Antidote_Remedy.png",
                  "Healing_Elixir.png",
                  "Medicine_Vile.png",
                  "Milk_Bottle.png",
                  "Radish.png",
                  "orange wonder.png",
                  "purple wonder.png",
                  "regular wonder.png",
                  "spiral wonder.png"
                ]
              },
              "stat upgrads": {
                images: [
                  "Heart Berry.png",
                  "Heart Root.png"
                ]
              }
            }
          },
          "mining items": {
            images: [
              "asset_5 (6).png",
              "cut_1 (3)_centered (1).png"
            ],
            subfolders: {
              "gems": {
                images: [
                  "cut_2_centered (1).png",
                  "cut_2_centered.png",
                  "cut_6_centered.png"
                ]
              },
              "ores": {
                images: [
                  "cut_0_centered.png",
                  "cut_1_centered.png",
                  "cut_3_centered.png",
                  "cut_4_centered.png",
                  "cut_5_centered.png",
                  "cut_7 (1)_centered.png",
                  "cut_8_centered.png",
                  "cut_9_centered.png"
                ]
              },
              "stones": {
                images: [
                  "cut_0 (3)_centered (1).png",
                  "cut_0_centered (1).png",
                  "cut_1_centered (1).png",
                  "cut_2 (3)_centered (1).png",
                  "cut_3 (3)_centered (1).png",
                  "cut_3_centered (1).png",
                  "cut_4 (1)_centered (1).png",
                  "cut_5 (1)_centered (1).png"
                ]
              }
            }
          },
          "outside decor": {
            images: [
              "1740106205344-removebg-preview.png",
              "1740107100394-removebg-preview.png",
              "1740107114336-removebg-preview.png",
              "1740107142381-removebg-preview.png",
              "Decorative Plant 1.png",
              "Decorative Plant 2.png",
              "Decorative Plant 3.png",
              "Decorative Plant 4.png",
              "Decorative Plant 5.png",
              "Decorative Plant 6.png",
              "Decorative Plant 7.png",
              "Pile_of_rope.png",
              "Smooth_Stones.png",
              "barrel of grapes.png"
            ]
          },
          "Plants": {
            images: [
              "Lavendar_sprigs.png",
              "Strawberry plant.png",
              "Wild Flowers.png",
              "asset_1 (3).png",
              "asset_1 (4).png",
              "asset_1 (6).png",
              "asset_2 (1).png",
              "asset_3 (3).png",
              "asset_3 (5).png",
              "asset_4.png",
              "asset_5 (3).png",
              "asset_6 (3).png",
              "asset_6 (5).png",
              "asset_8 (1).png",
              "asset_8 (2).png",
              "daisy plant.png"
            ],
            subfolders: {
              "Crop stages": {
                images: [],
                subfolders: {
                  "broccoli": {
                    images: []
                  },
                  "carrot": {
                    images: []
                  },
                  "cauliflower": {
                    images: []
                  },
                  "chili pepper": {
                    images: []
                  },
                  "corn": {
                    images: []
                  },
                  "cucumber": {
                    images: []
                  },
                  "eggplant": {
                    images: []
                  },
                  "garlic": {
                    images: []
                  },
                  "green beans": {
                    images: []
                  },
                  "green pepper": {
                    images: []
                  },
                  "horse radish": {
                    images: []
                  },
                  "lettuce": {
                    images: []
                  },
                  "onion": {
                    images: []
                  },
                  "plank growth 1": {
                    images: []
                  },
                  "plank growth 2": {
                    images: []
                  },
                  "plank growth 3": {
                    images: []
                  },
                  "plant growth 5": {
                    images: []
                  },
                  "plant growth 6": {
                    images: []
                  },
                  "plant growth 7": {
                    images: []
                  },
                  "potatoe": {
                    images: []
                  },
                  "pumpkin": {
                    images: []
                  },
                  "radish": {
                    images: []
                  },
                  "red pepper": {
                    images: []
                  },
                  "strawberry": {
                    images: []
                  },
                  "sweet potatoe": {
                    images: []
                  },
                  "tomatoe": {
                    images: []
                  },
                  "watermelon": {
                    images: []
                  },
                  "wheat": {
                    images: []
                  },
                  "yellow pepper": {
                    images: []
                  },
                  "zucchini": {
                    images: []
                  }
                }
              },
              "Flower stages": {
                images: [],
                subfolders: {
                  "daisies": {
                    images: []
                  },
                  "irises": {
                    images: []
                  },
                  "lilies": {
                    images: []
                  },
                  "poppies": {
                    images: []
                  },
                  "roses": {
                    images: []
                  },
                  "tulips": {
                    images: []
                  },
                  "wild flowers": {
                    images: []
                  }
                }
              }
            }
          },
          "possible decor": {
            images: [
              "1740106205344-removebg-preview.png",
              "1740107100394-removebg-preview.png",
              "1740107114336-removebg-preview.png",
              "1740107142381-removebg-preview.png",
              "Decorative Plant 1.png",
              "Decorative Plant 2.png",
              "Decorative Plant 3.png",
              "Decorative Plant 4.png",
              "Decorative Plant 5.png",
              "Decorative Plant 6.png",
              "Decorative Plant 7.png",
              "Pile_of_rope.png",
              "Smooth_Stones.png",
              "barrel of grapes.png"
            ]
          },
          "ingredients": {
            images: [
              "Raw_Beef.png",
              "dried_fig.png"
            ],
            subfolders: {
              "addatives": {
                images: []
              },
              "fruits": {
                images: []
              },
              "grains": {
                images: []
              },
              "herbs": {
                images: []
              },
              "nuts": {
                images: []
              },
              "vegetables": {
                images: []
              }
            }
          },
          "meals": {
            images: [
              "Apricots.png",
              "Baked_Potatoes__2_.png",
              "Baked_potatoes.png",
              "Bean_Stew.png",
              "Beat_Soup.png",
              "Beef broth.png",
              "Beef_and_Veggies.png",
              "Beef_and_beans.png",
              "Beef_stew.png",
              "Beet_Salad.png",
              "Boiled_Greens.png",
              "Bone_Broth.png",
              "Bread.png",
              "Chicken Breast.png",
              "Chicken_Broth.png",
              "Chicken_stew.png",
              "Cooked_Goat.png",
              "Fried_Meat.png",
              "Fried_Potatoes.png",
              "Fried_Vegetables.png",
              "Grits_and_Beef.png",
              "Honey_Wafers.png",
              "Lamb_stew.png",
              "Mashed_Potatoes.png",
              "Matza.png",
              "Meal_and_herbs.png",
              "Oatmeal.png",
              "Pita_in_stew.png",
              "Porridge.png",
              "Red_Pottage.png",
              "Salad.png",
              "Shew_Bread.png",
              "Tomatoe soup.png",
              "Vegetable_Mix.png",
              "Veggie_stew_.png",
              "Wafers.png",
              "Wafers_and_Apricot_Jam.png",
              "chicken_tika_masala.png",
              "grits.png",
              "meat_and_cheese_dish.png",
              "red bean stew.png",
              "vegetable broth.png"
            ]
          },
          "rings": {
            images: [],
            subfolders: {
              "Rings": {
                images: [
                  "amnethyst ring.png",
                  "asset_1 (19).png",
                  "asset_1 (31).png",
                  "asset_1 (49).png",
                  "asset_1 (50).png",
                  "asset_10 (6).png",
                  "asset_2 (17).png",
                  "asset_2 (18).png",
                  "asset_2 (19).png",
                  "asset_2 (24).png",
                  "asset_2 (26).png",
                  "asset_2 (28).png",
                  "asset_2 (43).png",
                  "asset_3 (21).png",
                  "asset_3 (23).png",
                  "asset_3 (25).png",
                  "asset_3 (34).png",
                  "asset_3 (37).png",
                  "asset_4 (13).png",
                  "asset_4 (28).png",
                  "asset_4 (29).png",
                  "asset_4 (30).png",
                  "asset_4 (31).png",
                  "asset_4 (32).png",
                  "asset_5 (20).png",
                  "asset_5 (24).png",
                  "asset_5 (25).png",
                  "asset_5 (26).png",
                  "asset_6 (23).png",
                  "asset_6 (27).png",
                  "asset_6 (28).png",
                  "asset_6 (29).png",
                  "asset_6 (30).png",
                  "asset_7 (15).png",
                  "asset_7 (19).png",
                  "asset_9 (16).png",
                  "common ring.png",
                  "crown ring.png",
                  "diamond ring.png",
                  "flower ring.png",
                  "onyx ring.png",
                  "peridot ring.png",
                  "ruby ring.png",
                  "spiral signet ring.png",
                  "star ring.png",
                  "whirling signet ring.png"
                ]
              }
            }
          },
          "Regular items": {
            images: [
              "red clay.png"
            ],
            subfolders: {
              "pouches": {
                images: [
                  "asset_1 (7).png",
                  "asset_10.png",
                  "asset_9 (3).png"
                ]
              },
              "shells": {
                images: [
                  ".png",
                  "1740102470996-removebg-preview.png",
                  "1740102569330-removebg-preview.png",
                  "32_by_32_pixel_art_inventory-style_items_including_shells__crabs__shrimp__squid__flounders__fish__octopuses__ores__armor__and_vegetables__high_quality.png_11-removebg-preview.png",
                  "Shell.png",
                  "Sun_Shell.png",
                  "Sunrise scallop shell.png",
                  "sea scallop shell.png"
                ]
              }
            }
          },
          "Scrolls": {
            images: [
              "32_by_32_pixel_art_style_images_of_baskets_of_scrolls__tablets_with_engravings__pots__and_other_similar_ancient_Israelite_artifacts_in_an_inventory_style_arrangement.png__1__4-removebg-preview.png",
              "Basket_of_Scrolls.png",
              "Scroll_Basket.png",
              "THe_Historical_Scrolls.png",
              "The_Poetry_Scrolls.png",
              "The_Prophetic_Scrolls.png",
              "The_torrah_Basket.png"
            ]
          },
          "Story items": { 
            images: [
              "1740105542576-removebg-preview.png",
              "1740106982621-removebg-preview.png",
              "1740107005212-removebg-preview.png",
              "1740640662096-removebg-preview.png",
              "32_by_32_pixel_art_style_images_of_ancient_Israelite_dishes_in_an_inventory_style.png_6_1_-removebg-preview.png",
              "Candle holder .png",
              "Crown of David.png",
              "Golden sceptre.png",
              "Myrh.png",
              "Satchel 1.png",
              "Satchel 2.png",
              "Star od David Crest.png",
              "Tent_Spoke.png",
              "The king's banner.png",
              "announcement placks.png",
              "asset_1 (37).png",
              "asset_1 (38).png",
              "asset_1 (39).png",
              "asset_10 (7)-cleaned.png",
              "asset_2 (31).png",
              "asset_2 (7).png",
              "asset_3 (47).png",
              "asset_3 (6).png",
              "asset_6 (19).png",
              "asset_6 (21).png",
              "asset_7 (13).png",
              "asset_8 (15).png",
              "asset_8 (16).png",
              "asset_8 (17).png",
              "crude wooden star of david.png",
              "king's crown.png"
            ]
          },
          "weapons": {
            images: [],
            subfolders: {
              "axes": {
                images: [
                  "32_by_32_pixel_art_inventory-style_items_with_high_quality__inspired_by_Stardew_Valley_fish.png_2-removebg-preview.png",
                  "War_Cleaver.png",
                  "asset_1 (53)-cleaned.png",
                  "asset_2 (34)-cleaned.png",
                  "asset_3 (41)-cleaned.png",
                  "rotated_image (2).png",
                  "rotated_image (3).png"
                ]
              },
              "bows": {
                images: [
                  "1740102780439-removebg-preview.png",
                  "Fancy_Bow.png",
                  "Philistine_Compact_Bow.png",
                  "Regular_Bow.png",
                  "arrow sheath.png",
                  "asset_1 (49)-cleaned.png",
                  "asset_6 (16)-cleaned.png"
                ]
              },
              "knives": {
                images: [
                  "Ehud's Dagger.png",
                  "Impact_Dagger.png",
                  "Slashing_Dagger.png",
                  "asset_1 (60).png",
                  "asset_1-cleaned.png",
                  "asset_10 (6)-cleaned.png",
                  "asset_2 (42)-cleaned.png",
                  "asset_2 (44)-cleaned.png",
                  "asset_9 (11)-cleaned.png",
                  "rotated_image (2).png",
                  "thiefs karambit.png"
                ]
              },
              "other": {
                images: [
                  "1740102748511-removebg-preview.png",
                  "Spoke.png",
                  "asset_1 (59).png",
                  "asset_1-cleaned (3).png",
                  "asset_2 (27)-cleaned.png",
                  "asset_2 (46)-cleaned.png",
                  "asset_5 (16)-cleaned.png",
                  "asset_7-cleaned (2).png",
                  "training sword.png"
                ]
              },
              "spears": {
                images: [
                  "1740106565216-removebg-preview.png",
                  "1740107155766-removebg-preview.png",
                  "Assyrian_Swinging_Spear.png",
                  "asset_3 (45).png",
                  "asset_3-cleaned.png",
                  "asset_4 (2)-cleaned.png",
                  "asset_4 (40).png",
                  "asset_5 (9).png",
                  "asset_7 (23).png"
                ]
              },
              "Special weapons": {
                images: [
                  "Staff_of_Moses.png",
                  "Sword of the Garden.png"
                ]
              },
              "swords": {
                images: [
                  "1740103017958-removebg-preview.png",
                  "1740106510904-removebg-preview.png",
                  "1740106524125-removebg-preview.png",
                  "1740107054339-removebg-preview.png",
                  "1740107126723-removebg-preview.png",
                  "32_by_32_pixel_art_style_inventory_of_jewels__gems__and_ancient_artifacts.png_16-removebg-preview.png"
                ]
              },
              "throwing blades": {
                images: [
                  "Carving_Blade.png",
                  "Decorative_Throwing_Blade.png",
                  "Hunting_dart.png",
                  "Throwing_Blade.png",
                  "Throwing_Dart.png",
                  "asset_5 (15)-cleaned.png",
                  "asset_7 (12)-cleaned.png",
                  "asset_7 (16)-cleaned.png",
                  "throwing dagger.png"
                ]
              }
            }
          }
        }
      }
    };

    let imageCounter = 1;

    function simplifyImageName(filename) {
      // Count words separated by spaces, underscores, or hyphens
      const words = filename.replace(/\.[^/.]+$/, "") // Remove extension
                            .split(/[\s_-]+/) // Split by spaces, underscores, hyphens
                            .filter(word => word.length > 0);
      
      if (words.length > 4) {
        return `Image ${imageCounter++}`;
      }
      return `Image ${imageCounter++}`;
    }

    function toggleSection(sectionId) {
      const section = document.getElementById(sectionId);
      if (section) {
        if (section.style.display === 'none' || section.style.display === '') {
          section.style.display = 'block';
          section.classList.add('show');
        } else {
          section.style.display = 'none';
          section.classList.remove('show');
        }
      }
    }

    function createImageCard(imagePath, displayName, imageId) {
      const filename = imagePath.split('/').pop();
      const matchedData = findMatchingDescription(filename);
      
      // Pre-populate name and description if found
      const defaultName = matchedData ? matchedData.name : '';
      const defaultDescription = matchedData ? matchedData.description : '';
      
      return `
        <div class="image-survey-card">
          <div class="image-container">
            <img src="${imagePath}" alt="${displayName}" loading="lazy">
            <div class="image-filename">${displayName}</div>
          </div>
          <div class="survey-controls">
            <div class="checkbox-row">
              <input type="checkbox" id="good_${imageId}" name="rating_${imageId}" value="good">
              <label for="good_${imageId}">Looks good</label>
            </div>
            <div class="checkbox-row">
              <input type="checkbox" id="unsure_${imageId}" name="rating_${imageId}" value="unsure">
              <label for="unsure_${imageId}">I'm not sure</label>
            </div>
            <input type="text" class="text-input name-input" placeholder="Name recommendation (20 chars max)" maxlength="20" name="name_${imageId}" data-image-id="${imageId}" value="${defaultName}" data-original-value="${defaultName}">
            <textarea class="text-input description-input" placeholder="Description recommendation (40 words max)" name="description_${imageId}" data-image-id="${imageId}" data-original-value="${defaultDescription}">${defaultDescription}</textarea>
          </div>
        </div>
      `;
    }

    function generateFolderStructure(data, basePath = '', level = 1) {
      let html = '';
      let globalImageId = 1;

      function processFolder(folderData, currentPath, currentLevel, folderName = '') {
        let folderHtml = '';
        
        if (folderName) {
          const headingTag = `h${Math.min(currentLevel, 6)}`;
          const sectionId = `section_${currentPath.replace(/[^a-zA-Z0-9]/g, '_')}`;
          
          folderHtml += `
            <div class="folder-section">
              <${headingTag} class="folder-header bullet-point" onclick="toggleSection('${sectionId}')">${folderName}</${headingTag}>
              <div id="${sectionId}" class="collapsible-content">
          `;
        }

        // Process images in current folder
        if (folderData.images && folderData.images.length > 0) {
          folderHtml += '<div class="images-grid">';
          folderData.images.forEach(imageName => {
            const imagePath = currentPath ? `${currentPath}/${imageName}` : imageName;
            const displayName = simplifyImageName(imageName);
            folderHtml += createImageCard(imagePath, displayName, globalImageId++);
          });
          folderHtml += '</div>';
        }

        // Process subfolders
        if (folderData.subfolders) {
          Object.entries(folderData.subfolders).forEach(([subfolderName, subfolderData]) => {
            const subfolderPath = currentPath ? `${currentPath}/${subfolderName}` : subfolderName;
            folderHtml += processFolder(subfolderData, subfolderPath, currentLevel + 1, subfolderName);
          });
        }

        if (folderName) {
          folderHtml += `
              </div>
            </div>
          `;
        }

        return folderHtml;
      }

      // Start processing from root
      Object.entries(data).forEach(([rootFolderName, rootFolderData]) => {
        html += processFolder(rootFolderData, rootFolderName, level, rootFolderName);
      });

      return html;
    }

    function countWords(text) {
      return text.trim().split(/\s+/).filter(word => word.length > 0).length;
    }

    function validateDescriptions() {
      const descriptions = document.querySelectorAll('.description-input');
      descriptions.forEach(textarea => {
        textarea.addEventListener('input', function() {
          const wordCount = countWords(this.value);
          if (wordCount > 40) {
            const words = this.value.trim().split(/\s+/);
            this.value = words.slice(0, 40).join(' ');
          }
        });
      });
    }

    function setupCheckboxExclusivity() {
      const checkboxPairs = document.querySelectorAll('.image-survey-card');
      checkboxPairs.forEach(card => {
        const goodCheckbox = card.querySelector('input[value="good"]');
        const unsureCheckbox = card.querySelector('input[value="unsure"]');
        
        if (goodCheckbox && unsureCheckbox) {
          goodCheckbox.addEventListener('change', function() {
            if (this.checked) {
              unsureCheckbox.checked = false;
            }
          });
          
          unsureCheckbox.addEventListener('change', function() {
            if (this.checked) {
              goodCheckbox.checked = false;
            }
          });
        }
      });
    }

    function collectSurveyData() {
      const data = [];
      const cards = document.querySelectorAll('.image-survey-card');
      
      cards.forEach((card, index) => {
        const img = card.querySelector('img');
        const filename = img.src.split('/').pop();
        const displayName = card.querySelector('.image-filename').textContent;
        
        const goodChecked = card.querySelector('input[value="good"]')?.checked || false;
        const unsureChecked = card.querySelector('input[value="unsure"]')?.checked || false;
        
        const nameInput = card.querySelector('.name-input');
        const descriptionInput = card.querySelector('.description-input');
        
        const nameRecommendation = nameInput?.value || '';
        const descriptionRecommendation = descriptionInput?.value || '';
        
        // Get original auto-populated values
        const originalName = nameInput?.dataset.originalValue || '';
        const originalDescription = descriptionInput?.dataset.originalValue || '';
        
        // Check if values were changed from original auto-populated values
        const nameChanged = nameRecommendation !== originalName;
        const descriptionChanged = descriptionRecommendation !== originalDescription;
        
        let rating = 'no_rating';
        if (goodChecked) rating = 'good';
        else if (unsureChecked) rating = 'not_sure';
        
        data.push({
          originalFilename: filename,
          displayName: displayName,
          rating: rating,
          nameRecommendation: nameRecommendation,
          descriptionRecommendation: descriptionRecommendation,
          nameChanged: nameChanged,
          descriptionChanged: descriptionChanged,
          wasAutoPopulated: originalName !== '' || originalDescription !== ''
        });
      });
      
      return data;
    }

    function submitSurvey() {
      const surveyData = collectSurveyData();
      
      // Filter to only include items with actual data or changes to auto-populated content
      const changedItems = surveyData.filter(item => {
        // Include if there's a rating
        if (item.rating !== 'no_rating') return true;
        
        // Include if it's manually entered content (not auto-populated)
        if (!item.wasAutoPopulated && (item.nameRecommendation || item.descriptionRecommendation)) {
          return true;
        }
        
        // Include if auto-populated content was changed
        if (item.wasAutoPopulated && (item.nameChanged || item.descriptionChanged)) {
          return true;
        }
        
        return false;
      });
      
      if (changedItems.length === 0) {
        alert('Please provide at least one rating or recommendation before submitting.');
        return;
      }
      
      // Create text content for email - only changed items
      let emailContent = "Game Pixel Art Survey Results\n\n";
      emailContent += `Submitted: ${new Date().toLocaleString()}\n`;
      emailContent += `Items with feedback: ${changedItems.length}\n\n`;
      
      changedItems.forEach((item, index) => {
        emailContent += `${item.displayName}:\n`;
        emailContent += `Original Filename: ${item.originalFilename}\n`;
        if (item.rating !== 'no_rating') {
          emailContent += `Rating: ${item.rating}\n`;
        }
        if (item.nameRecommendation) {
          emailContent += `Name Recommendation: ${item.nameRecommendation}\n`;
        }
        if (item.descriptionRecommendation) {
          emailContent += `Description Recommendation: ${item.descriptionRecommendation}\n`;
        }
        emailContent += '\n---\n\n';
      });
      
      // Create and send email directly
      const subject = encodeURIComponent('Game Pixel Art Survey Results');
      const body = encodeURIComponent(emailContent);
      const mailtoLink = `mailto:jopotapka@gmail.com?subject=${subject}&body=${body}`;
      
      // Store data for recovery in case email fails - only changed items
      localStorage.setItem('latestSurveyData', JSON.stringify({
        timestamp: new Date().toISOString(),
        data: changedItems,
        emailContent: emailContent
      }));
      
      // Try to open email client
      try {
        window.location.href = mailtoLink;
        
        // Clear work in progress data since we're submitting
        localStorage.removeItem('surveyWorkInProgress');
        localStorage.removeItem('hasPromptedSubmission');
        
        alert('Email client opened with survey results. Please send the email to complete submission.');
      } catch (error) {
        // Fallback: copy to clipboard if possible
        if (navigator.clipboard) {
          navigator.clipboard.writeText(emailContent).then(() => {
            alert(`Email client failed to open. Survey results copied to clipboard.\n\nPlease paste into an email and send to: jopotapka@gmail.com`);
          }).catch(() => {
            showManualEmailInstructions(emailContent);
          });
        } else {
          showManualEmailInstructions(emailContent);
        }
      }
    }
    
    function showManualEmailInstructions(emailContent) {
      // Create a modal-like alert with the email content
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
      `;
      
      const content = document.createElement('div');
      content.style.cssText = `
        background: #222;
        color: white;
        padding: 2rem;
        border-radius: 10px;
        max-width: 80%;
        max-height: 80%;
        overflow-y: auto;
        font-family: Calibri;
      `;
      
      content.innerHTML = `
        <h3>Please Email This Survey Data</h3>
        <p><strong>To:</strong> jopotapka@gmail.com</p>
        <p><strong>Subject:</strong> Game Pixel Art Survey Results</p>
        <textarea readonly style="width: 100%; height: 300px; background: #333; color: white; border: 1px solid #555; padding: 10px; border-radius: 5px;">${emailContent}</textarea>
        <br><br>
        <button onclick="this.parentElement.parentElement.remove()" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Close</button>
      `;
      
      modal.appendChild(content);
      document.body.appendChild(modal);
    }
    
    // Auto-save data and prompt on page unload
    window.addEventListener('beforeunload', function(e) {
      const surveyData = collectSurveyData();
      const changedItems = surveyData.filter(item => 
        item.rating !== 'no_rating' || 
        item.nameRecommendation || 
        item.descriptionRecommendation
      );
      
      if (changedItems.length > 0) {
        // Always save current work
        saveCurrentWork(changedItems);
        
        // Check if we should prompt for submission
        const hasPromptedBefore = localStorage.getItem('hasPromptedSubmission');
        if (!hasPromptedBefore) {
          // Set the flag immediately to prevent multiple prompts
          localStorage.setItem('hasPromptedSubmission', 'true');
          
          // Create prompt message
          e.preventDefault();
          e.returnValue = 'You have unsaved survey responses. Would you like to submit them before leaving?';
          return e.returnValue;
        }
      }
    });

    // Auto-save functionality for real-time data persistence
    function saveCurrentWork(changedItems = null) {
      const surveyData = changedItems || collectSurveyData();
      const itemsWithData = surveyData.filter(item => 
        item.rating !== 'no_rating' || 
        item.nameRecommendation || 
        item.descriptionRecommendation
      );
      
      if (itemsWithData.length > 0) {
        const saveData = {
          timestamp: new Date().toISOString(),
          data: itemsWithData,
          formData: collectFormFieldValues(),
          type: 'auto-save'
        };
        localStorage.setItem('surveyWorkInProgress', JSON.stringify(saveData));
      } else {
        // Remove saved data if nothing is filled out
        localStorage.removeItem('surveyWorkInProgress');
      }
    }

    // Collect current form field values for restoration
    function collectFormFieldValues() {
      const formData = {};
      const cards = document.querySelectorAll('.image-survey-card');
      
      cards.forEach((card, index) => {
        const img = card.querySelector('img');
        const filename = img.src.split('/').pop();
        
        const goodChecked = card.querySelector('input[value="good"]')?.checked || false;
        const unsureChecked = card.querySelector('input[value="unsure"]')?.checked || false;
        const nameValue = card.querySelector('.name-input')?.value || '';
        const descriptionValue = card.querySelector('.description-input')?.value || '';
        
        if (goodChecked || unsureChecked || nameValue || descriptionValue) {
          formData[filename] = {
            goodChecked,
            unsureChecked,
            nameValue,
            descriptionValue
          };
        }
      });
      
      return formData;
    }

    // Restore form field values
    function restoreFormFieldValues(formData) {
      const cards = document.querySelectorAll('.image-survey-card');
      
      cards.forEach((card) => {
        const img = card.querySelector('img');
        const filename = img.src.split('/').pop();
        
        if (formData[filename]) {
          const data = formData[filename];
          
          const goodCheckbox = card.querySelector('input[value="good"]');
          const unsureCheckbox = card.querySelector('input[value="unsure"]');
          const nameInput = card.querySelector('.name-input');
          const descriptionInput = card.querySelector('.description-input');
          
          if (goodCheckbox) goodCheckbox.checked = data.goodChecked;
          if (unsureCheckbox) unsureCheckbox.checked = data.unsureChecked;
          if (nameInput) nameInput.value = data.nameValue;
          if (descriptionInput) descriptionInput.value = data.descriptionValue;
        }
      });
    }

    // Auto-save every 30 seconds when user is actively working
    let autoSaveInterval;
    function startAutoSave() {
      if (autoSaveInterval) clearInterval(autoSaveInterval);
      autoSaveInterval = setInterval(() => {
        saveCurrentWork();
      }, 30000); // Save every 30 seconds
    }

    // Clear all form fields
    function clearAllFields() {
      if (confirm('Are you sure you want to clear all survey responses? This action cannot be undone.')) {
        if (confirm('This will permanently delete all your current responses. Continue?')) {
          const cards = document.querySelectorAll('.image-survey-card');
          
          cards.forEach((card) => {
            const goodCheckbox = card.querySelector('input[value="good"]');
            const unsureCheckbox = card.querySelector('input[value="unsure"]');
            const nameInput = card.querySelector('.name-input');
            const descriptionInput = card.querySelector('.description-input');
            
            if (goodCheckbox) goodCheckbox.checked = false;
            if (unsureCheckbox) unsureCheckbox.checked = false;
            if (nameInput) nameInput.value = '';
            if (descriptionInput) descriptionInput.value = '';
          });
          
          // Clear saved data
          localStorage.removeItem('surveyWorkInProgress');
          localStorage.removeItem('hasPromptedSubmission');
          
          alert('All survey responses have been cleared.');
        }
      }
    }

    // Check for auto-saved data on page load and offer to recover/send
    function checkForAutoSavedData() {
      // Check for work in progress
      const workInProgress = localStorage.getItem('surveyWorkInProgress');
      if (workInProgress) {
        try {
          const data = JSON.parse(workInProgress);
          const timeDiff = Date.now() - new Date(data.timestamp).getTime();
          const hoursDiff = timeDiff / (1000 * 60 * 60);
          
          if (hoursDiff < 72) { // Keep work for up to 3 days
            const shouldRestore = confirm(
              `Found unsaved survey work from ${new Date(data.timestamp).toLocaleString()}.\n\n` +
              `You have responses for ${data.data.length} items.\n\n` +
              'Would you like to restore your previous work?'
            );
            
            if (shouldRestore) {
              // Wait for DOM to be ready, then restore
              setTimeout(() => {
                if (data.formData) {
                  restoreFormFieldValues(data.formData);
                  alert('Your previous work has been restored!');
                }
              }, 500);
              return;
            } else {
              // User chose not to restore, clear the saved data
              localStorage.removeItem('surveyWorkInProgress');
              localStorage.removeItem('hasPromptedSubmission');
            }
          } else {
            // Remove old data
            localStorage.removeItem('surveyWorkInProgress');
            localStorage.removeItem('hasPromptedSubmission');
          }
        } catch (error) {
          console.error('Error parsing work in progress:', error);
          localStorage.removeItem('surveyWorkInProgress');
        }
      }

      // Check for old auto-saved data and clean it up
      const autoSaved = localStorage.getItem('autoSurveyData');
      if (autoSaved) {
        try {
          const data = JSON.parse(autoSaved);
          const timeDiff = Date.now() - new Date(data.timestamp).getTime();
          const hoursDiff = timeDiff / (1000 * 60 * 60);
          
          if (hoursDiff < 24) {
            if (confirm(`Found unsent survey data from ${new Date(data.timestamp).toLocaleString()}.\n\nWould you like to send it now?`)) {
              sendRecoveredData(data);
            }
          }
          localStorage.removeItem('autoSurveyData'); // Clean up old format
        } catch (error) {
          console.error('Error parsing auto-saved data:', error);
          localStorage.removeItem('autoSurveyData');
        }
      }
    }

    function sendRecoveredData(data) {
      // Format and send the recovered data
      let emailContent = "Game Pixel Art Survey Results (Auto-recovered)\n\n";
      emailContent += `Original Submission Time: ${data.timestamp}\n`;
      emailContent += `Recovered: ${new Date().toLocaleString()}\n`;
      emailContent += `Items with feedback: ${data.data.length}\n\n`;
      
      data.data.forEach((item, index) => {
        emailContent += `${item.displayName}:\n`;
        emailContent += `Original Filename: ${item.originalFilename}\n`;
        if (item.rating !== 'no_rating') {
          emailContent += `Rating: ${item.rating}\n`;
        }
        if (item.nameRecommendation) {
          emailContent += `Name Recommendation: ${item.nameRecommendation}\n`;
        }
        if (item.descriptionRecommendation) {
          emailContent += `Description Recommendation: ${item.descriptionRecommendation}\n`;
        }
        emailContent += '\n---\n\n';
      });
      
      // Send recovered data via email
      const subject = encodeURIComponent('Game Pixel Art Survey Results (Recovered)');
      const body = encodeURIComponent(emailContent);
      const mailtoLink = `mailto:jopotapka@gmail.com?subject=${subject}&body=${body}`;
      
      try {
        window.location.href = mailtoLink;
        alert('Email client opened with recovered survey results. Please send the email.');
      } catch (error) {
        alert('Could not open email client. Please check your email settings.');
      }
    }

    // Initialize the survey when page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Check for auto-saved data first
      checkForAutoSavedData();
      
      // Generate the folder structure
      const surveyContent = document.getElementById('survey-content');
      surveyContent.innerHTML = generateFolderStructure(imageDatabase);
      
      // Setup form validation and interactions
      validateDescriptions();
      setupCheckboxExclusivity();
      
      // Start auto-save functionality
      startAutoSave();
      
      // Add event listeners for real-time saving when user interacts with form
      setTimeout(() => {
        const inputs = document.querySelectorAll('input[type="checkbox"], input.name-input, textarea.description-input');
        inputs.forEach(input => {
          input.addEventListener('change', () => {
            saveCurrentWork();
          });
          
          // For text inputs, also save on blur (when they finish typing)
          if (input.type === 'text' || input.tagName === 'TEXTAREA') {
            input.addEventListener('blur', () => {
              saveCurrentWork();
            });
          }
        });
      }, 1000);
      
      // Show root level by default
      const rootSections = document.querySelectorAll('[id^="section_Game_pixel_art"]');
      rootSections.forEach(section => {
        if (section.id === 'section_Game_pixel_art') {
          section.style.display = 'block';
          section.classList.add('show');
        }
      });
    });
  </script>
</body>
</html>
